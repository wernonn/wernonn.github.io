(window.webpackJsonpRbcz=window.webpackJsonpRbcz||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},T86C:function(e,t,n){var i={"./cs-CZ":"3YTl","./cs-CZ.js":"3YTl","./en-CA":"vJkP","./en-CA.js":"vJkP","./en-GB":"r2BK","./en-GB.js":"r2BK","./ru-RU":"xERf","./ru-RU.js":"xERf"};function o(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id="T86C"},zUnb:function(e,t,n){"use strict";n.r(t),n("ECpy");var i=n("TYT/"),o=n("DUip"),r=n("NUHI"),a=function(e){return e.MCH_GIB="MCH:GIB",e.PUBLIC_WEB="PWB",e.MCH_APIC="MCH:APIC",e}({}),s=n("6PbE"),l=function(){function e(e,t){this.target=e,this.client=t}return e.prototype.match=function(e,t){var n,i=""===(n=e)||"*"===n||e===this.target;return t?i&&t===this.client:i},e.prototype.encode=function(){return this.target+(this.client?":"+this.client:"")},e.parse=function(t){var n=Object(s.a)(t,":",2);return 2===n.length?new e(n[0],n[1]):new e(n[0])},e}(),c=function(e){return e.MEK_SMS="MEK_SMS",e.MEK_SIM="MEK_SIM",e.OEK="OEK",e.MT="LN_MTOKEN",e}({}),u=function(e){return e.SMSPIN="SMSPIN",e.SMS="SMS",e}({}),d=n("BOF4"),p=n.n(d),h=n("0VPD"),f=n("BeL+"),m=n("GxtX"),g=n("/1FC"),v=n("ZGcR"),y=n("xnu4"),b=function(){function e(){var e,t=[c.MEK_SMS,c.MEK_SIM,c.OEK,c.MT],n=(e=window.location.search,Object(s.a)(Object(s.a)(e,"?").slice(-1)[0],"&").map((function(e){return Object(s.a)(e,"=")})).filter((function(e){return!!e[1]})).reduce((function(e,t){var n=t[0],i=decodeURIComponent(t[1]);if(e[n]){var o=I(e[n]);o.push(i),e[n]=o}else e[n]=i;return e}),{client_id:void 0,ui_locale:void 0,ui_params:void 0,auth_params:void 0,auth_type:void 0,auth_identity:void 0,consent_req:void 0,pin_type:void 0,method:void 0})),i=I(n.client_id).map(l.parse);this.system=i[0],this.systems=i,this.languages=I(n.ui_locale),this.authParams=n.auth_params,this.type=n.auth_type,this.pinType=n.pin_type,this.identity=n.auth_identity,this.lastMethodUsed=localStorage.getItem("lastMethodUsed"),this.consent_req=n.consent_req||"0",this.raw=n,n.ui_params&&(this.ui=function(e){var t=JSON.parse(e);return Object(v.a)(t,(function(e,t){return Object(y.a)(t)}))}(n.ui_params)),this.methods=t?Object(h.a)(I(n.method),t):I(n.method);try{var o=p()(this.authParams);this.redirect=o.r_uri}catch(r){this.redirect=null}}return e.prototype.selectLanguage=function(e){this.languages=Object(f.a)(Object(m.a)([e],this.languages))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}();function I(e){return e?Object(g.a)(e)?e:[e]:[]}var S=function(){function e(){}return e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}(),C=function(){function e(e,t){this.config=e,this.state=t}return e.prototype.resolve=function(e,t){if(this.state.isPopup=this.isPopup(e.queryParamMap),this.state.isNotPopup=!this.state.isPopup,this.state.logoRedirectUrl=r.LOGO_REDIRECT_URL,window.navigator&&window.navigator.userAgent){var n=window.navigator.userAgent.indexOf("MSIE ");this.state.ieOverride=!!(n>0||navigator.userAgent.match(/Trident.*rv\:11\./))}return!0},e.prototype.isPopup=function(e){var t=e.get("display");return!!t&&"popup"===t},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](b),i["\u0275\u0275inject"](S))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),w=n("o8Qb"),x=n("7nlS"),_=function(){function e(e,t,n){this.translate=e,this.config=t,this.translateSettings=n}return e.prototype.resolve=function(){var e=this;return this.translateSettings.resetOnFirstLogin(this.translate.currentLang||"cs").then((function(){e.config.selectLanguage(e.translate.currentLang)}))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](w.e),i["\u0275\u0275inject"](b),i["\u0275\u0275inject"](x.a))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),E=n("hWKq"),T=function(){function e(e){this.systemParameters=e}return e.prototype.resolve=function(){if(this.systemParameters.isVpeEnabled()&&!document.getElementById("vpe-css")){var e=document.createElement("link");e.id="vpe-css",e.href=this.systemParameters.getVpeCssUrl(),e.rel="stylesheet",document.querySelector("head").appendChild(e)}return!0},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](E.a))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),O=n("c+ff"),M=function(){function e(e){var t;this.message="503"===(null===(t=e.snapshot.queryParams)||void 0===t?void 0:t.status)?"ERR_COM_033":"ERR_COM_034"}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["error"]],decls:2,vars:1,consts:[[1,"main-container"],["type","error",3,"message"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275element"](1,"rb-report-header",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("message",t.message))},directives:[O.a],encapsulation:2,changeDetection:0}),e}(),A=n("Valr"),P=n("mrSG"),j=n("DA/1"),N=n("Kah2"),k=n("nBxe"),L=function(){function e(e){this.sessionStorageService=e}return e.prototype.ngOnInit=function(){this.sessionStorageService.destroyOnLoginActivate()},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](k.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e}(),B=n("7CWi"),z=n("RQ/Z"),D=n("R9G2"),F=n("5AoG"),U=n("FYXD"),R=n("Nco4"),q=function(){function e(e){this.resourceService=e,this.resourceService.newApi("eshop.payment.status",{method:"GET",url:"/ibs/eshop/payments/{requestId}/status"}).newApi("eshop.payment.grcode",{method:"GET",url:"/ibs/eshop/payments/{requestId}/qrcode"})}return e.prototype.getPaymentStatus=function(e){return this.resourceService.api("eshop.payment.status",null,{requestId:e}).pipe(Object(U.a)("body")).toPromise()},e.prototype.getQrCode=function(e){return this.resourceService.api("eshop.payment.grcode",null,{requestId:e}).pipe(Object(U.a)("body")).toPromise()},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](R.a))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),V=function(){function e(e,t,n,i,o){this.window=e,this.ngZone=t,this.objectUtils=n,this.errorService=i,this.eShopLoginApi=o,this.interval5sec=null,this.interval30sec=null,this.interval10m=null,this.eShopPayment=!1,this.oldIbLoginLink=null}return e.prototype.isEShopPayment=function(){return this.eShopPayment},e.prototype.getEShopPayment=function(e,t){var n=this;if(e&&e.eShopPayment){var i=this.decodeObject(e.eShopPayment);this.eShopLoginApi.getQrCode(i.requestId).then((function(e){n.eShopPayment=!0,t(Object(P.a)(Object(P.a)({},i),{qrCode:e.qrCode,qrCodeData:e.qrCodeData}))}))}else this.eShopPayment=!1},e.prototype.setOldIbLoginLink=function(e){this.oldIbLoginLink=e},e.prototype.startEShopPaymentWatchers=function(e,t){this.interval30sec=this.create30secInterval(e,t),this.interval10m=this.create10mInterval()},e.prototype.stopEShopPaymentWatchers=function(){this.cancelIntervals()},e.prototype.redirectToEShop=function(e){this.window.location.href=e},e.prototype.isMigrationError=function(e){return e&&e.isNotMigrated&&this.isEShopPayment()},e.prototype.showMigrationError=function(e){this.errorService.business("ERR_AUS_030",{link:this.composeOldIbLink(e)})},e.prototype.create30secInterval=function(e,t){var n=this;return this.setTestableTimeout((function(){n.eShopLoginApi.getPaymentStatus(e).then((function(i){"PAID"===i.status?(n.cancelIntervals(),n.redirectToEShop(t)):n.interval5sec=n.create5secInterval(e,t)}))}),3e4)},e.prototype.create5secInterval=function(e,t){var n=this;return this.setTestableInterval((function(){n.eShopLoginApi.getPaymentStatus(e).then((function(e){"PAID"===e.status&&(n.cancelIntervals(),n.redirectToEShop(t))}))}),5e3)},e.prototype.create10mInterval=function(){var e=this;return this.setTestableTimeout((function(){return e.cancelIntervals()}),6e5)},e.prototype.cancelIntervals=function(){var e=this;[this.interval5sec,this.interval30sec,this.interval10m].forEach((function(t){t&&e.window.clearTimeout(t)}))},e.prototype.composeOldIbLink=function(e){if(!e||!e.eShopPayment)return null;var t=this.objectUtils.cleanObject(e.eShopParams),n=Object.entries(t).filter((function(e){return"referrer"!==Object(P.f)(e,1)[0]})).map((function(e){var t=Object(P.f)(e,2);return t[0]+"="+t[1]})).join("&");return this.oldIbLoginLink&&n?this.oldIbLoginLink+"?"+n:"#"},e.prototype.decodeObject=function(e){return Object.keys(e).reduce((function(t,n){return t[n]=decodeURIComponent(e[n]),t}),{})},e.prototype.setTestableTimeout=function(e,t){var n=this;return this.ngZone.runOutsideAngular((function(){return n.window.setTimeout((function(){return n.ngZone.run(e)}),t)}))},e.prototype.setTestableInterval=function(e,t){var n=this;return this.ngZone.runOutsideAngular((function(){return n.window.setInterval((function(){return n.ngZone.run(e)}),t)}))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](z.a),i["\u0275\u0275inject"](i.NgZone),i["\u0275\u0275inject"](D.a),i["\u0275\u0275inject"](F.a),i["\u0275\u0275inject"](q))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),K=n("hdZt"),X=n("VnD/"),G=n("67Y/"),H=function(){function e(e){this.resourceService=e,this.resourceService.newApi("login.info.message",{method:"GET",url:"/ibs/public/login-info"}),this.resourceService.newApi("login.name-day",{method:"GET",url:"/ibs/public/name-days/current"})}return e.prototype.getInfoMessage=function(){return this.resourceService.api("login.info.message").pipe(Object(U.a)("body"))},e.prototype.getNameDay=function(){return this.resourceService.api("login.name-day").pipe(Object(U.a)("body"))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](R.a))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Z=n("ozXk");function Q(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"p",2),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"p",3),i["\u0275\u0275text"](6),i["\u0275\u0275pipe"](7,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.ngIf;i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate2"](" ",i["\u0275\u0275pipeBind1"](4,4,"TXT_AUS_207")," ",n.date," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate2"](" ",i["\u0275\u0275pipeBind1"](7,6,"TXT_AUS_208")," ",n.name," ")}}var Y=function(){function e(e,t){this.api=e,this.timeService=t}return e.prototype.ngOnInit=function(){var e=this;this.data$=this.api.getNameDay().pipe(Object(X.a)(Boolean),Object(G.a)((function(t){return{name:t.name,date:e.timeService.format(Date.parse(t.date),K.a.DATE_PATTERN)}})))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](H),i["\u0275\u0275directiveInject"](Z.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["rb-name-day"]],decls:2,vars:3,consts:[[4,"ngIf"],["xid","nameDay",1,"login--header-dtime"],["xid","nameDayDate",1,"login--header-date"],["xid","nameDayName",1,"login--header-name"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,Q,8,8,"ng-container",0),i["\u0275\u0275pipe"](1,"async")),2&e&&i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](1,1,t.data$))},directives:[A.t],pipes:[A.b,w.d],encapsulation:2,changeDetection:0}),e}(),W=n("SjWX"),J=n("SWbf");function $(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"section",1),i["\u0275\u0275elementStart"](1,"div",2),i["\u0275\u0275elementStart"](2,"div",3),i["\u0275\u0275element"](3,"div",4),i["\u0275\u0275elementStart"](4,"div"),i["\u0275\u0275element"](5,"span",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}var ee={safari:"safari",chrome:"chrome",firefox:"firefox"},te=function(){function e(e,t){this.systemParameters=e,this.versionUtils=t}return e.prototype.ngOnInit=function(){this.browser=Object(W.detect)(),this.isUnsupportedBrowser=this.isUnsupportedVersion()},e.prototype.isUnsupportedVersion=function(){if(Object.values(ee).includes(this.browser.name)){var e=this.getSupportedVersion(this.browser.name);return 1===this.versionUtils.versionCompare(e,this.browser.version,{zeroExtend:!0})}return!1},e.prototype.getSupportedVersion=function(e){switch(e){case ee.chrome:return this.systemParameters.getSupportedChromeVersion();case ee.firefox:return this.systemParameters.getSupportedFirefoxVersion();case ee.safari:return this.systemParameters.getSupportedSafariVersion();default:return"0"}},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](E.a),i["\u0275\u0275directiveInject"](J.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["rb-login-version-info"]],decls:1,vars:1,consts:[["class","login-info-warning",4,"ngIf"],[1,"login-info-warning"],[1,"header-container"],[1,"old-ib-login"],[1,"icon"],["translate","TXT_COM_034",1,"info"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,$,6,0,"section",0),2&e&&i["\u0275\u0275property"]("ngIf",t.isUnsupportedBrowser)},directives:[A.t,w.a],encapsulation:2}),e}(),ne=n("K9Ia"),ie=n("ny24"),oe=n("rEXS"),re=n("T01U"),ae=n("jpwn"),se=n("Xwjm"),le=n("5e6D"),ce=n("hwxA"),ue=function(e){return e.ONLINE_SEND_PUSH="ONLINE_SEND_PUSH",e.OFFLINE="OFFLINE",e}({}),de=function(e){return e[e.START=0]="START",e[e.MIDDLE=8]="MIDDLE",e}({}),pe=n("gI3B"),he=n("t9fZ"),fe=n("QJY3"),me=n("cUzu"),ge=n("XlPw"),ve=n("xMyE"),ye=n("9Z1F"),be=function(){function e(){this.eventMessage=new ne.a}return e.prototype.emit=function(){this.eventMessage.next(!0)},e.prototype.onLock=function(){return this.eventMessage.asObservable().pipe(Object(X.a)((function(e){return e})))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}(),Ie=[r.BANNER.PUBLIC_BANNER_LIST,r.BANNER.PUBLIC_BANNER_PLACEHOLDER],Se=function(){function e(e,t,n){this.router=e,this.errorService=t,this.smsLockService=n}return e.prototype.intercept=function(e,t){var n=this;return t.handle(e).pipe(Object(ve.a)((function(e){if(e instanceof me.g){var t=e.body.extended_info;(null==t?void 0:t.max_sms_sent)&&n.smsLockService.emit(),(null==t?void 0:t.error_code)&&n.errorService.business(t.error_code)}})),Object(ye.a)((function(e){var t,i;return n.isApiBlacklisted(e.url)?Object(ge.a)(e):(503!==e.status&&502!==e.status&&404!==e.status||n.router.navigate(["./error"],{queryParams:{status:e.status}}),"EXPIRED_AUTH_PARAMS"===(null===(t=e.error)||void 0===t?void 0:t.error)&&(null===(i=e.error)||void 0===i?void 0:i.extended_info)&&n.errorService.business("ERR_AUS_054"),429===e.status?Object(ge.a)({error:{error:e.status,error_description:e.statusText,extended_info:e.error},status:e.status}):Object(ge.a)(e))})))},e.prototype.isApiBlacklisted=function(e){return Ie.includes(e)},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](o.e),i["\u0275\u0275inject"](F.a),i["\u0275\u0275inject"](be))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),Ce=function(){function e(e,t,n){this.code=e,this.message=t,this.info=n}return e.decode=function(t,n){return t?new e(t.error,t.error_description,t.extended_info):new e("ERROR."+n)},e}(),we=function(){function e(e){this.http=e}return e.prototype.post=function(e,t){return this.http.post(this.getUrl(e),t,{observe:"response"}).pipe(Object(G.a)((function(e){return Object(P.a)(Object(P.a)({},e.body),{status:e.status})})),Object(ye.a)((function(e){return Object(ge.a)(Ce.decode(e.error,e.status))})))},e.prototype.getUrl=function(e){return window.location.pathname.split("/authorize/login")[0]+"/authorize/"+e},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](me.b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),xe=function(){function e(){this.dataKey="session_token",this.storageKey="sessionToken"}return e.prototype.parseToken=function(e){return e[this.dataKey]},e.prototype.getToken=function(){return localStorage.getItem(this.storageKey)},e.prototype.setToken=function(e){e&&localStorage.setItem(this.storageKey,e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}(),_e=function(){function e(e,t,n,i){this.location=e,this.requestService=t,this.tokenService=n,this.config=i}return e.prototype.initialize=function(e){var t=e.initialize(),n=this.tokenService.getToken();return t.auth_params=this.config.authParams,t.ui_locales=this.config.languages,n&&(t.session_token=n),this.requestService.post("login/initialize",t)},e.prototype.finalize=function(e){var t=this,n=e.finalize(),i=this.tokenService.getToken();return n.auth_params=this.config.authParams,i&&(n.session_token=i),localStorage.setItem("lastMethodUsed",e.identifier),this.requestService.post("login/finalize",n).pipe(Object(G.a)((function(e){var n=t.tokenService.parseToken(e);return t.tokenService.setToken(n),{warnings:e.warnings,info:e.extended_info,isCompleted:t.finalizationCompleted(e.status)}})))},e.prototype.issueToken=function(e){var t=this,n={session_token:this.tokenService.getToken(),auth_params:this.config.authParams,ui_locales:this.config.languages};return this.requestService.post("login/issue-token",n).pipe(Object(ve.a)((function(n){window.location.href=t.withUiData(n.redirect_uri,e)})))},e.prototype.withUiData=function(e,t){return t?e+"&ui_data="+encodeURIComponent(JSON.stringify(t)):e},e.prototype.finalizationCompleted=function(e){return 202!==e},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](A.n),i["\u0275\u0275inject"](we),i["\u0275\u0275inject"](xe),i["\u0275\u0275inject"](b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Ee=function(){function e(e,t,n){this.translate=e,this.authorization=t,this.errorService=n,this.init(),this.collectSystemInfo()}return e.prototype.handleInitialize=function(e){var t=this;return this.authorization.initialize(e).toPromise().then((function(t){var n=t.extended_info,i=n.error_code;return n.public_key&&n.token_type?(e.withInitialization(t),e.backupInitializedData=t):e.withInitialization(i?t:e.backupInitializedData||t),t}),(function(e){return t.handleInitializeError(e)}))},e.prototype.handleFinalize=function(e){return this.authorization.finalize(e)},e.prototype.token=function(e){return this.authorization.issueToken(e?{deviceIdValue:e}:null).toPromise()},e.prototype.getDeviceSignature=function(){return this.client.processDNA(),this.client.getDNA()},e.prototype.getDeviceIdType=function(){return this.client.getProperty("store")},e.prototype.getDeviceId=function(){return this.client.getDID()},e.prototype.handleInitializeError=function(e){throw 429===e.code&&this.errorService.business("ERR_AUS_050"),e},e.prototype.collectSystemInfo=function(){this.client.processDNA()},e.prototype.init=function(){var e=this;this.client=new window.ca.rm.Client,this.client.setProperty("baseurl","<%=request.getContextPath()%>"),this.client.loadFlash((function(){return e.readyCallback()}))},e.prototype.readyCallback=function(){this.configureClient(),this.client.processDNA()},e.prototype.configureClient=function(){this.client.setProperty("didname","rmclient"),this.client.setProperty("noFlash",!0),this.client.setProperty("mescmaxIterations",2),this.client.setProperty("mesccalibrationduration",150),this.client.setProperty("mescintervaldelay",45)},e.prototype.mapInitializeError=function(e){switch(e){case"BLOCKED":case"NOT_ALLOWED":return"ERR_AUS_001";default:return"ERR_AUS_002"}},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](w.e),i["\u0275\u0275inject"](_e),i["\u0275\u0275inject"](F.a))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Te=function(){function e(e){this.deviceContext=e,this.identifier=c.MT,this.mode=ue.ONLINE_SEND_PUSH}return e.prototype.setUsername=function(e){this.username={value:e}},e.prototype.setAuthCode=function(e){this.authCode=e},e.prototype.setNonce=function(e){this.nonce=e},e.prototype.setMode=function(e){this.mode=e},e.prototype.isOnlineMode=function(){return this.mode===ue.ONLINE_SEND_PUSH},e.prototype.initialize=function(){return{method:c.MT,auth_id:this.username.value,mode:this.mode,extendedInfo:{fdsMetaData:{deviceContext:this.deviceContext}}}},e.prototype.withInitialization=function(e){var t=e.extended_info.public_key;return this.requestId=e.auth_req_id,this.publicKey=t,this},e.prototype.getFormatedAuthCode=function(){return this.authCode.slice(de.START,de.MIDDLE)+"-"+this.authCode.slice(de.MIDDLE)},e.prototype.finalize=function(){return this.isOnlineMode()?{auth_req_id:this.requestId,auth_data:{waitForOnlineAuthentication:this.pollingIntervalMillis}}:{auth_req_id:this.requestId,auth_data:'{ signature: "'+this.getFormatedAuthCode()+'", nonce: "'+this.nonce+'" }'}},e.prototype.setPollingIntervalMillis=function(e){this.pollingIntervalMillis=e},e}(),Oe=function(){function e(e,t){this.state=e,this.gibAuthorization=t}return e.prototype.resolve=function(e){void 0===e&&(e={});var t={deviceIdType:this.gibAuthorization.getDeviceIdType(),deviceIdValue:this.gibAuthorization.getDeviceId(),deviceSignature:this.gibAuthorization.getDeviceSignature()};return this.isPublicWebLogin(e)||this.isClientSwitchModalLogin(e),new Te(t)},e.prototype.isPublicWebLogin=function(e){return e.method===c.MT&&e.loginName},e.prototype.isClientSwitchModalLogin=function(e){return this.state.isPopup&&e.loginName},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](S),i["\u0275\u0275inject"](Ee))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Me=n("b7ZM");function Ae(e,t){if(1&e&&i["\u0275\u0275element"](0,"span",1),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("translate",n.infoTranslateKey)}}var Pe=function(){function e(e,t){this.window=e,this.ngZone=t,this.showInfo=!1}return e.prototype.ngOnInit=function(){var e=this;this.timeoutId=this.ngZone.runOutsideAngular((function(){return e.window.setTimeout((function(){e.ngZone.run((function(){e.showInfo=!0}))}),e.showAfterSeconds*ae.a)}))},e.prototype.ngOnDestroy=function(){this.window.clearTimeout(this.timeoutId)},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](z.a),i["\u0275\u0275directiveInject"](i.NgZone))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["rb-login-timed-info"]],inputs:{xid:"xid",showAfterSeconds:"showAfterSeconds",infoTranslateKey:"infoTranslateKey"},decls:1,vars:1,consts:[[3,"translate",4,"ngIf"],[3,"translate"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,Ae,1,1,"span",0),2&e&&i["\u0275\u0275property"]("ngIf",t.showInfo)},directives:[A.t,w.a],encapsulation:2}),e}(),je=n("GtjZ"),Ne=n("03qj"),ke=n("3nYq"),Le=n("445O"),Be=n("BVmy"),ze=n("3B6G"),De=n("qhau"),Fe=n("4gYu");function Ue(e,t){1&e&&i["\u0275\u0275element"](0,"button",11)}var Re=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mt-initialization-state"]],inputs:{onBehalf:"onBehalf"},decls:12,vars:1,consts:[[1,"loginMethodContent"],["xid","loginMethodInfo","translate","TXT_AUS_002",1,"info"],[1,"login-row"],[1,"size15","pull-left"],[1,"icon"],[1,"calc-icon","first"],["xid","login-mt-info","translate","TXT_AUS_155",1,"info-text-info"],[1,"request-button","pull-right"],["iButton","","xid","loginButton","name","login","type","submit","translate","CON_AUS_010",1,"submit","login-button"],["iButton","","xid","showInstructions1","type","submit","translate","CON_AUS_016","class","blank-button t-25 pull-right",4,"ngIf"],["xid","info-warning","translate","TXT_AUS_158",1,"warning-login-text"],["iButton","","xid","showInstructions1","type","submit","translate","CON_AUS_016",1,"blank-button","t-25","pull-right"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275element"](1,"small",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",0),i["\u0275\u0275elementStart"](4,"div",3),i["\u0275\u0275elementStart"](5,"div",4),i["\u0275\u0275element"](6,"div",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](7,"div",6),i["\u0275\u0275elementStart"](8,"div",7),i["\u0275\u0275element"](9,"button",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,Ue,1,0,"button",9),i["\u0275\u0275element"](11,"div",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](10),i["\u0275\u0275property"]("ngIf",!t.onBehalf))},directives:[w.a,De.a,Fe.a,A.t],encapsulation:2}),e}();function qe(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",13),i["\u0275\u0275listener"]("rbClick",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().offlineLoginSwitch.next()})),i["\u0275\u0275elementEnd"]()}}var Ve=function(){function e(){this.offlineLoginSwitch=new i.EventEmitter}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mt-online-login-state"]],inputs:{onBehalf:"onBehalf",timeLeftDate:"timeLeftDate"},outputs:{offlineLoginSwitch:"offlineLoginSwitch"},decls:15,vars:5,consts:[[1,"loginMethodContent","online"],[1,"size15","pull-left"],[1,"icon"],[1,"calc-icon","first"],["xid","info_label-1","translate","TXT_AUS_194",1,"info-label","b-10"],[1,"info-label"],["xid","remaining-time-text-1","translate","TXT_AUS_156"],["xid","remaining-time-left",1,"timer"],["xid","remaining-time-text-2","translate","TXT_AUS_157"],[1,"login-form--instructions-button"],["iButton","","xid","showInstructions2","translate","CON_AUS_016","class","blank-button b-25 pull-right",3,"rbClick",4,"ngIf"],[1,"login-form--warning"],["xid","info-warning","translate","TXT_AUS_158",1,"info-label"],["iButton","","xid","showInstructions2","translate","CON_AUS_016",1,"blank-button","b-25","pull-right",3,"rbClick"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275element"](3,"div",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](4,"div",4),i["\u0275\u0275elementStart"](5,"div",5),i["\u0275\u0275element"](6,"span",6),i["\u0275\u0275elementStart"](7,"span",7),i["\u0275\u0275text"](8),i["\u0275\u0275pipe"](9,"date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](10,"span",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",9),i["\u0275\u0275template"](12,qe,1,0,"button",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",11),i["\u0275\u0275element"](14,"div",12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](8),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind2"](9,2,t.timeLeftDate,"mm:ss")),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",!t.onBehalf))},directives:[w.a,A.t,De.a,Fe.a],pipes:[A.f],encapsulation:2,changeDetection:0}),e}(),Ke=n("904P"),Xe=n("e3Un"),Ge=["iFormUsername"];function He(e,t){1&e&&(i["\u0275\u0275element"](0,"div",10),i["\u0275\u0275element"](1,"div",11))}function Ze(e,t){if(1&e&&i["\u0275\u0275element"](0,"rb-login-timed-info",12),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("showAfterSeconds",n.warningIntervalSecs)}}function Qe(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"i-field",13),i["\u0275\u0275pipe"](1,"translate"),i["\u0275\u0275element"](2,"input",14),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("label",i["\u0275\u0275pipeBind1"](1,4,"TXT_AUS_024"))("readOnly",n.isUsernameReadOnly()),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("iFocusMe",n.isFocusedUsername())("formControl",n.username)}}function Ye(e,t){if(1&e&&i["\u0275\u0275element"](0,"mt-initialization-state",15),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("onBehalf",n.onBehalf)}}function We(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"mt-online-login-state",16),i["\u0275\u0275listener"]("offlineLoginSwitch",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().handleOfflineLoginSwitch()})),i["\u0275\u0275elementEnd"]()}if(2&e){var o=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("onBehalf",o.onBehalf)("timeLeftDate",o.timeLeftDate)}}function Je(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"button",32),i["\u0275\u0275listener"]("rbClick",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](2).handleShowOfflineModeInstructions()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function $e(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275element"](1,"rb-qr-code",33),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("model",n.qrCode)}}function et(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",17),i["\u0275\u0275element"](1,"div",18),i["\u0275\u0275template"](2,Je,2,0,"div",19),i["\u0275\u0275template"](3,$e,2,1,"div",20),i["\u0275\u0275elementStart"](4,"div"),i["\u0275\u0275elementStart"](5,"form",2),i["\u0275\u0275listener"]("iSubmit",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().handleOfflineMt(e)})),i["\u0275\u0275elementStart"](6,"div",21),i["\u0275\u0275elementStart"](7,"div",22),i["\u0275\u0275elementStart"](8,"div",23),i["\u0275\u0275element"](9,"div",24),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"div",25),i["\u0275\u0275elementStart"](11,"i-field",26),i["\u0275\u0275pipe"](12,"translate"),i["\u0275\u0275element"](13,"input",27),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"div",28),i["\u0275\u0275element"](15,"button",29),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",30),i["\u0275\u0275element"](17,"small",31),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var o=i["\u0275\u0275nextContext"](),r=i["\u0275\u0275reference"](1);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!o.showOfflineModeInstructions)("ngIfElse",r),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",o.qrCode),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("formGroup",o.formOffline)("iDisabled",o.formOffline.invalid),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("label",i["\u0275\u0275pipeBind1"](12,9,"TXT_AUS_196")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("textMask",o.textMaskConfig)("iFocusMe",o.isFocusedUsername())("formControl",o.authCode)}}var tt=function(e){return e.INITIALIZATION="INITIALIZATION",e.OFFLINE_CHECK="OFFLINE_CHECK",e.ONLINE_LOGIN="ONLINE_LOGIN",e}({}),nt=function(){function e(e,t,n,i,o,r,a,s,l,c){this.document=e,this.ngZone=t,this.fb=n,this.config=i,this.appState=o,this.gibAuthorization=r,this.eShopLoginService=a,this.errorService=s,this.mtMethodResolver=l,this.systemParameterService=c,this.isSubmitting=!1,this.showOfflineModeInstructions=!1,this.onBehalf=!1,this.textMaskConfig={guide:!1,mask:[/\d/,/\d/,/\d/,/\d/," ","-"," ",/\d/,/\d/,/\d/,/\d/," ","-"," ",/\d/,/\d/,/\d/,/\d/," ","-"," ",/\d/,/\d/,/\d/,/\d/]}}return e.prototype.ngOnInit=function(){var e,t;this.onBehalf=this.isOnBehalfLogin(),this.showLoginName=this.appState.isNotPopup,this.method=this.mtMethodResolver.resolve(this.ui),this.method.setPollingIntervalMillis(this.systemParameterService.getMtLoginPollingIntervalSec()*ae.a),this.state=tt.INITIALIZATION,this.timeLimit=this.systemParameterService.getMtLoginTimeLimitSec(),this.warningIntervalSecs=this.systemParameterService.getMtLoginIdleWarningSec(),this.username=this.fb.control(null!==(t=null===(e=this.ui)||void 0===e?void 0:e.loginName)&&void 0!==t?t:"",[le.a,Object(se.a)(2)]),this.form=this.fb.group({userName:this.username}),this.authCode=this.fb.control("",[le.a,Object(se.a)(25)]),this.formOffline=this.fb.group({authCode:this.authCode}),this.onBehalf&&this.handleMt(),this.ui&&this.ui.loginName&&!this.onBehalf&&this.handleMt(),this.componentDestroyed=!1},e.prototype.ngOnDestroy=function(){this.unsubscribeInterval(),this.componentDestroyed=!0},e.prototype.isUsernameReadOnly=function(){var e;return!this.isInitializationState()||!!(null===(e=this.ui)||void 0===e?void 0:e.loginName)},e.prototype.handleLogin=function(e){var t=e.resetFn;this.errorService.hideBusiness(),"showInstructions1"===this.document.activeElement.getAttribute("xid")?this.handleOfflineLoginSwitch(t):this.handleMt(t)},e.prototype.handleOfflineLoginSwitch=function(e){void 0===e&&(e=function(){}),this.unsubscribeInterval(),this.resetOfflineForm(),this.method.setMode(ue.OFFLINE),this.state=tt.OFFLINE_CHECK,this.isSubmitting=!1,this.handleMt(e)},e.prototype.handleOfflineMt=function(e){var t=this,n=e.resetFn;this.method.setMode(ue.OFFLINE),this.authCode.value&&this.method.setAuthCode(this.authCode.value.replace(/[^0-9]/g,"")),this.handleFinalize((function(){n(),t.iFormUsername.reset()}))},e.prototype.isFocusedUsername=function(){return!this.username.value||0===this.username.value.length},e.prototype.isInitializationState=function(){return this.state===tt.INITIALIZATION},e.prototype.isOfflineCheckState=function(){return this.state===tt.OFFLINE_CHECK},e.prototype.isOnlineLoginState=function(){return this.state===tt.ONLINE_LOGIN},e.prototype.handleShowOfflineModeInstructions=function(){this.showOfflineModeInstructions=!0},e.prototype.showTimedInfo=function(){return this.isOnlineLoginState()},e.prototype.isOnBehalfLogin=function(){return this.config.pinType===N.c.T&&this.ui.loginName&&this.ui.loginName.length>0},e.prototype.handleMt=function(e){var t=this;if(void 0===e&&(e=function(){}),this.isSubmitting)return!1;this.isSubmitting=!0,this.method.setUsername(this.username.value),this.method.isOnlineMode()&&(this.createTimerInterval(e),this.state=tt.ONLINE_LOGIN,this.form.disable()),this.gibAuthorization.handleInitialize(this.method).then((function(n){var i=n.extended_info;t.eShopLoginService.isMigrationError(i)?t.eShopLoginService.showMigrationError(t.ui):t.method.isOnlineMode()?(t.method.setNonce(i.nonce),t.finalize(e)):(t.qrCode=i.QR_CODE,t.method.setNonce(i.nonce))})).catch((function(){t.state=tt.INITIALIZATION,t.form.enable(),t.unsubscribeInterval()}))},e.prototype.handleFinalize=function(e){var t=this;this.finalizeSubscription=this.gibAuthorization.handleFinalize(this.method).subscribe((function(n){t.handleFinalizeSuccess(n,e)}),(function(n){t.state=tt.INITIALIZATION,t.form.enable(),t.unsubscribeInterval(),t.handleFinalizeError(n,e),t.method.setMode(ue.ONLINE_SEND_PUSH)}))},e.prototype.createTimerInterval=function(e){var t=this;this.timeLimitDate=this.timeLimit*ae.a,this.timeLeftDate=this.timeLimitDate,this.ngZone.runOutsideAngular((function(){t.finalizeInterval=Object(pe.a)(ae.a,ae.a).pipe(Object(he.a)(t.timeLimit)).subscribe((function(){t.ngZone.run((function(){return t.processTimerTick(e)}))}))}))},e.prototype.processTimerTick=function(e){this.timeLeftDate=this.timeLeftDate-ae.a,0===this.timeLeftDate&&(this.isOnBehalfLogin()||e(),this.isSubmitting=!1,this.state=tt.INITIALIZATION,this.form.enable(),this.unsubscribeInterval())},e.prototype.finalize=function(e){this.isOnlineLoginState()&&this.handleFinalize(e)},e.prototype.resetOfflineForm=function(){this.formOffline.reset(),this.qrCode=""},e.prototype.handleFinalizeSuccess=function(e,t){var n,i=this;if(e.isCompleted&&!this.componentDestroyed)return this.unsubscribeInterval(),this.gibAuthorization.token(null===(n=e.info)||void 0===n?void 0:n.deviceId).catch((function(){i.isSubmitting=!1}));this.componentDestroyed||this.finalize(t)},e.prototype.handleFinalizeError=function(e,t){t(),this.isSubmitting=!1,e.info&&this.errorService.business(e.info.error_code)},e.prototype.unsubscribeInterval=function(){this.unsubscribeFinalizeCall(),this.unsubscribeFinalizeInterval()},e.prototype.unsubscribeFinalizeInterval=function(){this.finalizeInterval&&this.finalizeInterval.unsubscribe()},e.prototype.unsubscribeFinalizeCall=function(){this.finalizeSubscription&&this.finalizeSubscription.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](A.e),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](fe.FormBuilder),i["\u0275\u0275directiveInject"](b),i["\u0275\u0275directiveInject"](S),i["\u0275\u0275directiveInject"](Ee),i["\u0275\u0275directiveInject"](V),i["\u0275\u0275directiveInject"](F.a),i["\u0275\u0275directiveInject"](Oe),i["\u0275\u0275directiveInject"](E.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mt"]],viewQuery:function(e,t){var n;1&e&&i["\u0275\u0275staticViewQuery"](Ge,!0,ce.a),2&e&&i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.iFormUsername=n.first)},inputs:{ui:"ui"},decls:11,vars:7,consts:[["offlineModeInstructions",""],[1,"customerID","login-form","mobile-token"],["iForm","",3,"formGroup","iDisabled","iSubmit"],["iFormUsername",""],["infoTranslateKey","ERR_AUS_040",3,"showAfterSeconds",4,"ngIf"],[1,"login-form--username"],["xid","username",3,"label","readOnly",4,"ngIf"],[3,"onBehalf",4,"ngIf"],[3,"onBehalf","timeLeftDate","offlineLoginSwitch",4,"ngIf"],["class","loginMethodContent offline",4,"ngIf"],["translate","CON_AUS_017",1,"info-text-info"],["translate","TXT_AUS_195",1,"info-text-info"],["infoTranslateKey","ERR_AUS_040",3,"showAfterSeconds"],["xid","username",3,"label","readOnly"],["iField","","xid","username","name","TXT_AUS_024","spellcheck","false","autocorrect","off","autocapitalize","off",3,"iFocusMe","formControl"],[3,"onBehalf"],[3,"onBehalf","timeLeftDate","offlineLoginSwitch"],[1,"loginMethodContent","offline"],["translate","TXT_AUS_169",1,"info-text-info"],[4,"ngIf","ngIfElse"],[4,"ngIf"],[1,"clearfix"],[1,"size15","pull-left"],[1,"icon","mt-20"],[1,"calc-icon","first"],[1,"size80","pull-left"],["xid","authCode",3,"label"],["iField","","xid","authCode","name","TXT_AUS_196","spellcheck","false","autocorrect","off","autocapitalize","off",3,"textMask","iFocusMe","formControl"],[1,"login-form--instructions-button"],["iButton","","xid","loginButton","type","submit","name","login","translate","CON_AUS_010",1,"submit","login-button","pull-right"],[1,"login-form--warning"],["xid","offline-help","translate","TXT_AUS_008",1,"info"],["iButton","","xid","showInstructions3","translate","CON_AUS_017",1,"blank-button",3,"rbClick"],["xid","qrCode",3,"model"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,He,2,0,"ng-template",null,0,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementStart"](2,"i-row",1),i["\u0275\u0275elementStart"](3,"form",2,3),i["\u0275\u0275listener"]("iSubmit",(function(e){return t.handleLogin(e)})),i["\u0275\u0275template"](5,Ze,1,1,"rb-login-timed-info",4),i["\u0275\u0275elementStart"](6,"div",5),i["\u0275\u0275template"](7,Qe,3,6,"i-field",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,Ye,1,1,"mt-initialization-state",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](9,We,1,2,"mt-online-login-state",8),i["\u0275\u0275template"](10,et,18,11,"div",9),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("formGroup",t.form)("iDisabled",t.form.invalid),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.showTimedInfo()),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.showLoginName),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isInitializationState()),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isOnlineLoginState()),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isOfflineCheckState()))},directives:[Me.a,fe["\u0275angular_packages_forms_forms_y"],fe.NgControlStatusGroup,ce.a,fe.FormGroupDirective,A.t,w.a,Pe,je.a,Ne.a,oe.a,ke.a,Le.a,Be.a,fe.DefaultValueAccessor,ze.a,fe.NgControlStatus,fe.FormControlDirective,Re,Ve,Ke.MaskedInputDirective,De.a,Fe.a,Xe.a],pipes:[w.d],encapsulation:2}),e}(),it=function(){function e(e){void 0===e&&(e=N.c.I),this.type=e,this.sizeClass=this.isIPin()?"size26":"size33",this.label=this.isIPin()?"TXT_AUS_023":"TXT_AUS_132",this.minLength=this.isIPin()?N.b.I:N.b.T,this.maxLength=this.isIPin()?N.a.I:N.a.T}return e.prototype.isIPin=function(){return this.type===N.c.I},e.prototype.isTPin=function(){return this.type===N.c.T},e}(),ot=n("fv0H"),rt=n("f/K5"),at=function(e){var t=e.value;return t?new RegExp("^(\\w+|\\.|\\-|\\_|\\@|\\/|)*$","g").test(t)?null:{login:!0}:null},st=function(){function e(e,t,n,i){void 0===n&&(n=null),void 0===i&&(i=!1),this.pin=e,this.deviceContext=t,this.initializationRequired=i,this.identifier=c.MEK_SMS,this.smsCount=0,this.initializeForm=new fe.FormGroup({username:new fe.FormControl(n,[le.a,at,Object(se.a)(2)])}),this.finalizeForm=new fe.FormGroup({otp:new fe.FormControl(null,[le.a,Object(se.a)(17),rt.a]),iPin:new fe.FormControl(null,[le.a,Object(se.a)(this.pin.minLength),Object(ot.a)()])})}return e.prototype.isPin=function(){return this.tokenType===u.SMSPIN},e.prototype.isInitializationRequired=function(){return this.initializationRequired},e.prototype.initialize=function(){return{method:this.identifier,auth_id:this.username,extendedInfo:{fdsMetaData:{deviceContext:this.deviceContext}}}},e.prototype.withInitialization=function(e){var t=e.extended_info,n=t.public_key,i=t.token_type;return this.requestId=e.auth_req_id,this.publicKey=n,this.tokenType=i,this},e.prototype.finalize=function(){return this.isPin()?window.PINBLOB("Authentication PIN BLOB",this.iPin,this.otpForPayload):window.PINBLOB("SMS PIN BLOB",null,this.otpForPayload),{auth_req_id:this.requestId,auth_data:JSON.stringify({publicKeyId:this.publicKey.id,authenticationCode:window.encrypt(this.publicKey.modulus,this.publicKey.exponent)})}},e.prototype.clearOtpAndIPin=function(){this.finalizeForm.patchValue({otp:null,iPin:null})},e.prototype.resetOtpAndIPin=function(){this.finalizeForm.reset({otp:null,iPin:null})},e.prototype.disableIPin=function(){this.finalizeForm.get("iPin").disable()},Object.defineProperty(e.prototype,"username",{get:function(){return this.initializeForm.get("username").value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"otp",{get:function(){return this.finalizeForm.get("otp").value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iPin",{get:function(){return this.finalizeForm.get("iPin").value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"otpForPayload",{get:function(){var e,t=this.otp;return null!==(e=null==t?void 0:t.replace(/[^0-9]/g,""))&&void 0!==e?e:t},enumerable:!0,configurable:!0}),e}(),lt=function(){function e(e,t){this.state=e,this.gibAuthorization=t}return e.prototype.resolve=function(e,t){void 0===e&&(e={});var n={deviceIdType:this.gibAuthorization.getDeviceIdType(),deviceIdValue:this.gibAuthorization.getDeviceId(),deviceSignature:this.gibAuthorization.getDeviceSignature()};return this.isOnBehalfLogin(e,t)||this.isPublicWebLogin(e)?new st(t,n,e.loginName,!0):this.isClientSwitchModalLogin(e)?new st(t,n,e.loginName):new st(t,n)},e.prototype.isOnBehalfLogin=function(e,t){return e.loginName&&t.isTPin()},e.prototype.isPublicWebLogin=function(e){return e.loginName&&e.method===c.MEK_SMS},e.prototype.isClientSwitchModalLogin=function(e){return e.loginName&&this.state.isPopup},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](S),i["\u0275\u0275inject"](Ee))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function ct(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"i-field",6),i["\u0275\u0275element"](1,"input",7),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("label",n.userNameLabel)("readOnly",n.isStateSms()||n.isStateFinalize())("focusMe",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("iFocusMe",n.isFocusedUsername())}}function ut(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",8),i["\u0275\u0275element"](1,"small",9),i["\u0275\u0275elementStart"](2,"div",10),i["\u0275\u0275element"](3,"div",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](4,"div",12),i["\u0275\u0275elementStart"](5,"div",13),i["\u0275\u0275element"](6,"button",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](7,"div",15),i["\u0275\u0275elementEnd"]())}function dt(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"form",3),i["\u0275\u0275listener"]("iSubmit",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().handleInitialize()})),i["\u0275\u0275template"](1,ct,2,4,"i-field",4),i["\u0275\u0275template"](2,ut,8,0,"div",5),i["\u0275\u0275elementEnd"]()}if(2&e){var o=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("formGroup",o.method.initializeForm)("iDisabled",o.method.initializeForm.invalid),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",o.showLoginName),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",o.isStateInitialize())}}function pt(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",31),i["\u0275\u0275elementStart"](1,"i-field",32),i["\u0275\u0275element"](2,"input",33),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("textMask",n.textMaskConfig)("iFocusMe",n.isOtpFocused())}}function ht(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",34),i["\u0275\u0275elementStart"](1,"div",35),i["\u0275\u0275elementStart"](2,"i-field",36),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275element"](4,"input",37),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",n.method.pin.sizeClass),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("label",i["\u0275\u0275pipeBind1"](3,5,n.method.pin.label)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("name",n.method.pin.label)("maxlength",n.method.pin.maxLength)("iFocusMe",n.isPinFocused())}}function ft(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",16),i["\u0275\u0275elementStart"](1,"i-row"),i["\u0275\u0275elementStart"](2,"form",17),i["\u0275\u0275listener"]("iSubmit",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().handleFinalize()})),i["\u0275\u0275elementStart"](3,"div",18),i["\u0275\u0275element"](4,"small",19),i["\u0275\u0275element"](5,"div",20),i["\u0275\u0275elementStart"](6,"div",21),i["\u0275\u0275elementStart"](7,"div",10),i["\u0275\u0275element"](8,"div",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div",22),i["\u0275\u0275template"](10,pt,3,2,"div",23),i["\u0275\u0275elementStart"](11,"div",24),i["\u0275\u0275element"](12,"small",25),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](13,ht,5,7,"div",26),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"div",27),i["\u0275\u0275element"](15,"button",28),i["\u0275\u0275elementStart"](16,"button",29),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().handleInitialize()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](17,"div",30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var o=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("formGroup",o.method.finalizeForm)("iDisabled",o.method.finalizeForm.invalid),i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("ngIf",o.isOtp()),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",o.isPin())}}var mt=function(){function e(e,t,n,i,o,r,a,s){this.translate=e,this.config=t,this.appState=n,this.authorization=i,this.eShopLoginService=o,this.errorService=r,this.smsLockService=a,this.methodResolver=s,this.userNameReadonly=!1,this.isSubmitting=!1,this.destroy=new ne.a}return e.prototype.ngOnInit=function(){var e=this;this.state="initialize",this.showLoginName=this.appState.isNotPopup,this.method=this.methodResolver.resolve(this.ui,new it(this.config.pinType)),this.method.isInitializationRequired()&&this.handleInitialize(),this.smsLockService.onLock().pipe(Object(ie.a)(this.destroy)).subscribe((function(){e.smsLock=!0,e.method.smsCount<5&&e.errorService.business("ERR_AUS_002")})),this.userNameLabel=this.translate.instant("TXT_AUS_024"),this.textMaskConfig={guide:!1,mask:[/\d/,/\d/,/\d/,/\d/," ","-"," ",/\d/,/\d/,/\d/,/\d/," ","-"," ",/\d/,/\d/,/\d/]}},e.prototype.ngOnDestroy=function(){this.destroy.next(),this.destroy.complete()},e.prototype.handleInitialize=function(){var e=this;this.method.clearOtpAndIPin(),this.smsLock||(this.method.smsCount++,this.authorization.handleInitialize(this.method).then((function(t){var n=t.extended_info;"ERR_AUS_002"===(null==n?void 0:n.error_code)?e.isInitializeError=!0:e.eShopLoginService.isMigrationError(n)&&e.eShopLoginService.showMigrationError(e.ui),e.method.isPin()||e.method.disableIPin(),e.state="sms",e.userNameReadonly=!0,e.method.initializeForm.disable()})))},e.prototype.handleFinalize=function(){var e=this;return!this.isSubmitting&&(this.isSubmitting=!0,this.state="finalize",this.authorization.handleFinalize(this.method).toPromise().then((function(t){return e.handleFinalizeSuccess(t)})).catch((function(t){return e.handleFinalizeError(t)})))},e.prototype.handleFinalizeSuccess=function(e){var t,n=this;return this.authorization.token(null===(t=e.info)||void 0===t?void 0:t.deviceId).catch((function(){n.isSubmitting=!1}))},e.prototype.handleFinalizeError=function(e){if(this.isSubmitting=!1,e.info){var t=e.info,n=t.attempts_remaining_count;this.errorService.business(t.error_code,{n:n}),this.method.resetOtpAndIPin(),0===n&&(this.state="initialize")}},e.prototype.isStateInitialize=function(){return"initialize"===this.state},e.prototype.isStateSms=function(){return"sms"===this.state},e.prototype.isStateFinalize=function(){return"finalize"===this.state},e.prototype.isFocusedUsername=function(){return!this.method.username},e.prototype.isOtpFocused=function(){return!this.method.otp||0===this.method.otp.length},e.prototype.isPinFocused=function(){var e;return 17===(null===(e=this.method.otp)||void 0===e?void 0:e.length)},e.prototype.isOtp=function(){return!this.isInitializeError},e.prototype.isPin=function(){return!this.isInitializeError&&this.method.isPin()},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](w.e),i["\u0275\u0275directiveInject"](b),i["\u0275\u0275directiveInject"](S),i["\u0275\u0275directiveInject"](Ee),i["\u0275\u0275directiveInject"](V),i["\u0275\u0275directiveInject"](F.a),i["\u0275\u0275directiveInject"](be),i["\u0275\u0275directiveInject"](lt))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["sms"]],inputs:{ui:"ui"},decls:3,vars:2,consts:[[1,"customerID","login-form"],["iForm","",3,"formGroup","iDisabled","iSubmit",4,"ngIf"],["class","login-row",4,"ngIf"],["iForm","",3,"formGroup","iDisabled","iSubmit"],["xid","username",3,"label","readOnly","focusMe",4,"ngIf"],["class","loginMethodContent",4,"ngIf"],["xid","username",3,"label","readOnly","focusMe"],["iField","","name","TXT_AUS_024","maxlength","30","formControlName","username",3,"iFocusMe"],[1,"loginMethodContent"],["translate","TXT_AUS_002",1,"info"],[1,"icon"],[1,"calc-icon","first"],["translate","TXT_AUS_003",1,"info-text-info"],[1,"request-button","pull-right"],["iButton","","xid","sendSmsButton","type","submit","translate","CON_AUS_008",1,"login-button"],["translate","TXT_AUS_004",1,"warning-login-text"],[1,"login-row"],["iForm","","autocomplete","off",3,"formGroup","iDisabled","iSubmit"],["xid","ipinBlock",1,"loginMethodContent"],["translate","TXT_AUS_006",1,"small-info-text"],["translate","TXT_AUS_005",1,"info-label"],[1,"size15","pull-left"],[1,"size80","pull-left"],["class","otp-input",4,"ngIf"],[1,"info-text-small"],["translate","TXT_AUS_007",1,"small-field-text"],["class","login-i-pin",4,"ngIf"],[1,"request-button","buttons-row"],["iButton","","xid","loginButton","type","submit","translate","CON_AUS_010",1,"submit","login-button"],["xid","resendSmsButton","type","button","translate","CON_AUS_009",1,"i-button","blank-button","request-new-login-code",3,"click"],["translate","TXT_AUS_008",1,"warning-login-text"],[1,"otp-input"],["xid","otp"],["iField","","type","tel","name","TXT_AUS_005","spellcheck","false","autocomplete","off","autocorrect","off","autocapitalize","off","formControlName","otp",3,"textMask","iFocusMe"],[1,"login-i-pin"],[3,"ngClass"],["xid","ipin",1,"ipin-validation",3,"label"],["iField","","type","password","formControlName","iPin",3,"name","maxlength","iFocusMe"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"i-row",0),i["\u0275\u0275template"](1,dt,3,4,"form",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,ft,18,4,"div",2)),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.userNameLabel),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isStateSms()||t.isStateFinalize()))},directives:[Me.a,A.t,fe["\u0275angular_packages_forms_forms_y"],fe.NgControlStatusGroup,ce.a,fe.FormGroupDirective,je.a,Ne.a,oe.a,ke.a,Le.a,Be.a,fe.DefaultValueAccessor,fe.MaxLengthValidator,fe.NgControlStatus,fe.FormControlName,ze.a,w.a,De.a,Fe.a,Ke.MaskedInputDirective,A.q],pipes:[w.d],encapsulation:2}),e}(),gt=function(){function e(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null),this.deviceContext=e,this.identifier=c.OEK,this.form=new fe.FormGroup({username:new fe.FormControl(t,[le.a,at,Object(se.a)(2)]),otp:new fe.FormControl(n,[le.a,Object(se.a)(10)])})}return Object.defineProperty(e.prototype,"username",{get:function(){return this.form.get("username").value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"otp",{get:function(){return this.form.get("otp").value},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){return{method:this.identifier,auth_id:this.username,extendedInfo:{fdsMetaData:{deviceContext:this.deviceContext}}}},e.prototype.withInitialization=function(e){var t=e.extended_info.public_key;return this.requestId=e.auth_req_id,this.publicKey=t,this},e.prototype.finalize=function(){return window.PINBLOB("OEK PIN BLOB",null,this.otp),{auth_req_id:this.requestId,auth_data:JSON.stringify({publicKeyId:this.publicKey.id,authenticationCode:window.encrypt(this.publicKey.modulus,this.publicKey.exponent)})}},e}(),vt=function(){function e(e,t){this.state=e,this.gibAuthorization=t}return e.prototype.resolve=function(e){void 0===e&&(e={});var t={deviceIdType:this.gibAuthorization.getDeviceIdType(),deviceIdValue:this.gibAuthorization.getDeviceId(),deviceSignature:this.gibAuthorization.getDeviceSignature()};return this.isPublicWebLogin(e)?new gt(t,e.loginName,this.getOtpCode(e)):this.isClientSwitchModalLogin(e)?new gt(t,e.loginName):new gt(t)},e.prototype.isPublicWebLogin=function(e){return e.method===c.OEK&&e.loginName},e.prototype.isClientSwitchModalLogin=function(e){return this.state.isPopup&&e.loginName},e.prototype.getOtpCode=function(e){var t;return null!==(t=null==e?void 0:e.otpCode)&&void 0!==t?t:null},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](S),i["\u0275\u0275inject"](Ee))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),yt=n("7T1J");function bt(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"i-field",18),i["\u0275\u0275pipe"](1,"translate"),i["\u0275\u0275element"](2,"input",19),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("label",i["\u0275\u0275pipeBind1"](1,2,"TXT_AUS_024")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("iFocusMe",n.isFocusedUsername())}}var It=function(){function e(e,t,n,i,o,r){this.translate=e,this.state=t,this.errorService=n,this.authorization=i,this.methodResolver=o,this.eShopLogin=r,this.isSubmitting=!1}return e.prototype.ngOnInit=function(){this.showLoginName=this.state.isNotPopup,this.method=this.methodResolver.resolve(this.ui),this.instructions=this.generateInstructions()},e.prototype.onOek=function(){var e=this;this.isSubmitting||(this.isSubmitting=!0,this.authorization.handleInitialize(this.method).then((function(t){e.eShopLogin.isMigrationError(t.extended_info)?e.eShopLogin.showMigrationError(e.ui):e.callFinalize()})))},e.prototype.isFocusedUsername=function(){return!this.method.username},e.prototype.generateInstructions=function(){return this.translate.instant("TXT_AUS_113").match(/[aA-Zz](\D|2x)*(?!\d\.)/g)},e.prototype.callFinalize=function(){var e=this;return this.authorization.handleFinalize(this.method).toPromise().then((function(t){return e.processFinalizeSuccess(t)})).catch((function(t){return e.processFinalizeError(t)}))},e.prototype.processFinalizeSuccess=function(e){var t,n=this;return this.authorization.token(null===(t=e.info)||void 0===t?void 0:t.deviceId).catch((function(){n.isSubmitting=!1}))},e.prototype.processFinalizeError=function(e){if(this.isSubmitting=!1,e.info){var t=e.info.attempts_remaining_count;this.errorService.business(e.info.error_code,t?{n:t}:{})}},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](w.e),i["\u0275\u0275directiveInject"](S),i["\u0275\u0275directiveInject"](F.a),i["\u0275\u0275directiveInject"](Ee),i["\u0275\u0275directiveInject"](vt),i["\u0275\u0275directiveInject"](V))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["oek"]],inputs:{ui:"ui"},decls:20,vars:4,consts:[[1,"customerID","login-form"],["iForm","","autocomplete","off",3,"formGroup","iDisabled","iSubmit"],["xid","username",3,"label",4,"ngIf"],[1,"loginMethodContent"],["xid","loginMethodInfo","translate","TXT_AUS_033",1,"info"],[1,"login-row"],["translate","TXT_AUS_005",1,"info-label"],[1,"size15","pull-left"],[1,"icon"],[1,"calc-icon","second"],[1,"size80","pull-left"],[1,"otp-input"],["xid","otp"],["iField","","maxlength","10","name","TXT_AUS_005","formControlName","otp"],["instructions-title","CON_AUS_012",3,"instructions"],[1,"request-button","buttons-row"],["iButton","","xid","loginButton","type","submit","translate","CON_AUS_010",1,"submit","login-button"],["translate","TXT_AUS_008",1,"call"],["xid","username",3,"label"],["iField","","maxlength","30","name","TXT_AUS_024","formControlName","username",3,"iFocusMe"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"i-row",0),i["\u0275\u0275elementStart"](1,"form",1),i["\u0275\u0275listener"]("iSubmit",(function(){return t.onOek()})),i["\u0275\u0275template"](2,bt,3,4,"i-field",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275element"](4,"small",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",5),i["\u0275\u0275elementStart"](6,"div",3),i["\u0275\u0275element"](7,"div",6),i["\u0275\u0275elementStart"](8,"div",7),i["\u0275\u0275elementStart"](9,"div",8),i["\u0275\u0275element"](10,"div",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",10),i["\u0275\u0275elementStart"](12,"div",11),i["\u0275\u0275elementStart"](13,"i-field",12),i["\u0275\u0275element"](14,"input",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"div"),i["\u0275\u0275element"](16,"rb-oek-info",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"div",15),i["\u0275\u0275element"](18,"button",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](19,"small",17),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("formGroup",t.method.form)("iDisabled",t.method.form.invalid),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.showLoginName),i["\u0275\u0275advance"](14),i["\u0275\u0275property"]("instructions",t.instructions))},directives:[Me.a,fe["\u0275angular_packages_forms_forms_y"],fe.NgControlStatusGroup,ce.a,fe.FormGroupDirective,A.t,w.a,je.a,Ne.a,oe.a,ke.a,Le.a,Be.a,fe.DefaultValueAccessor,fe.MaxLengthValidator,fe.NgControlStatus,fe.FormControlName,yt.a,De.a,Fe.a,ze.a],pipes:[w.d],encapsulation:2}),e}(),St=["mt"],Ct=["sms"],wt=["oek"];function xt(e,t){if(1&e&&i["\u0275\u0275element"](0,"mt",8),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ui",n.ui)}}function _t(e,t){if(1&e&&i["\u0275\u0275element"](0,"sms",8),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ui",n.ui)}}function Et(e,t){if(1&e&&i["\u0275\u0275element"](0,"oek",8),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ui",n.ui)}}function Tt(e,t){1&e&&i["\u0275\u0275elementContainer"](0)}var Ot=function(){function e(e,t,n){this.translate=e,this.state=t,this.errorService=n,this.selected=null,this.loginMethods=[],this.destroy=new ne.a}return e.prototype.ngOnInit=function(){var e=this;this.checkMtMethods(),this.checkSmsMethods(),this.checkOekMethod(),this.initSelectedMethod(),this.selectMethodTemplate(),this.translate.onLangChange.pipe(Object(ie.a)(this.destroy)).subscribe((function(){e.reloadTranslations()}))},e.prototype.ngOnDestroy=function(){this.destroy.next(),this.destroy.complete()},e.prototype.onMethodSelect=function(e){this.selected=e.model,this.errorService.hideBusiness(),this.selectMethodTemplate()},e.prototype.checkSmsMethods=function(){var e=this.getSmsMethod();e&&this.loginMethods.push({value:e,code:"CON_AUS_005",label:this.translate.instant("CON_AUS_005")})},e.prototype.checkMtMethods=function(){var e=this.getMtMethod();e&&this.loginMethods.push({value:e,code:"CON_AUS_031",label:this.translate.instant("CON_AUS_031")})},e.prototype.checkOekMethod=function(){var e=this.getMethods().find((function(e){return e===c.OEK}));e&&this.loginMethods.push({value:e,code:"CON_AUS_006",label:this.translate.instant("CON_AUS_006")})},e.prototype.initSelectedMethod=function(){var e=this.getMtMethod()||this.getDefaultMethod();this.selected=this.selectedMethod||e},e.prototype.selectMethodTemplate=function(){switch(this.selected){case c.MEK_SMS:case c.MEK_SIM:this.selectedTpl=this.smsMethod;break;case c.OEK:this.selectedTpl=this.oekMethod;break;default:this.selectedTpl=this.mtMethod}},e.prototype.getSmsMethod=function(){return this.getMethods().find((function(e){return e===c.MEK_SMS||e===c.MEK_SIM}))},e.prototype.getMtMethod=function(){return this.getMethods().find((function(e){return e===c.MT}))},e.prototype.getDefaultMethod=function(){var e,t;return null!==(t=null===(e=this.getMethods())||void 0===e?void 0:e[0])&&void 0!==t?t:null},e.prototype.getMethods=function(){return this.isClientSwitchModalLogin()?this.ui.authMethods:this.methods},e.prototype.isClientSwitchModalLogin=function(){return this.state.isPopup&&!!this.ui.loginName},e.prototype.reloadTranslations=function(){var e=this;this.loginMethods=this.loginMethods.map((function(t){return t.label=e.translate.instant(t.code),t}))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](w.e),i["\u0275\u0275directiveInject"](S),i["\u0275\u0275directiveInject"](F.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["methods-switch"]],viewQuery:function(e,t){var n;1&e&&(i["\u0275\u0275staticViewQuery"](St,!0),i["\u0275\u0275staticViewQuery"](Ct,!0),i["\u0275\u0275staticViewQuery"](wt,!0)),2&e&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.mtMethod=n.first),i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.smsMethod=n.first),i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.oekMethod=n.first))},inputs:{ui:"ui",methods:"methods",selectedMethod:"selectedMethod"},decls:11,vars:3,consts:[["translate","TXT_AUS_001",1,"login-switch-label"],[1,"login-switch-content"],["xid","methodsSwitch","viewAs","label","returnAs","value",3,"options","selected","change"],["mt",""],["sms",""],["oek",""],["id","method"],[4,"ngTemplateOutlet"],[3,"ui"]],template:function(e,t){1&e&&(i["\u0275\u0275element"](0,"h4",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"i-switch",2),i["\u0275\u0275listener"]("change",(function(e){return t.onMethodSelect(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,xt,1,1,"ng-template",null,3,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](5,_t,1,1,"ng-template",null,4,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](7,Et,1,1,"ng-template",null,5,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementStart"](9,"div",6),i["\u0275\u0275template"](10,Tt,1,0,"ng-container",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("options",t.loginMethods)("selected",t.selected),i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("ngTemplateOutlet",t.selectedTpl))},directives:[w.a,oe.a,re.a,A.A,nt,mt,It],encapsulation:2}),e}(),Mt=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["rb-login-header"]],inputs:{xid:"xid",isEshopPayment:"isEshopPayment"},decls:1,vars:2,consts:[[1,"login-header",3,"translate"]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"h1",0),2&e&&(i["\u0275\u0275property"]("translate",t.isEshopPayment?"TIT_PAY_073":"TIT_AUS_001"),i["\u0275\u0275attribute"]("xid",t.xid))},directives:[w.a],encapsulation:2}),e}(),At=n("E1rE"),Pt=n("EBGy"),jt=function(){return{nazev_eshopu:""}};function Nt(e,t){if(1&e&&(i["\u0275\u0275element"](0,"p",2),i["\u0275\u0275element"](1,"p",3),i["\u0275\u0275elementStart"](2,"p",4),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](4,"rb-qr-code",5)),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("translateParams",i["\u0275\u0275pureFunction0"](4,jt)),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n.model.data.shopName),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("xid",n.xid)("model",n.model.data.qrCode)}}function kt(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275element"](1,"p",8),i["\u0275\u0275element"](2,"p",9),i["\u0275\u0275element"](3,"a",10),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("href",n.paymentLink,i["\u0275\u0275sanitizeUrl"])}}function Lt(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"section",6),i["\u0275\u0275template"](1,kt,4,1,"ng-container",7),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](),o=i["\u0275\u0275reference"](1);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.paymentLinkVisible)("ngIfElse",o)}}var Bt=function(){function e(e,t,n,i){this.sanitizer=n,this.urlUtils=i,this.paymentLinkVisible=t.isSpbPaymentLinkEnabled()&&(e.ANDROID||e.IOS)}return e.prototype.ngOnChanges=function(e){this.model.data.qrCodeData&&(this.paymentLink=this.sanitizer.bypassSecurityTrustUrl("spb://app.payment?shopname="+this.urlUtils.encodeValue(this.model.data.shopName)+"&spayd="+this.urlUtils.encodeValue(this.model.data.qrCodeData)))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](B.a),i["\u0275\u0275directiveInject"](E.a),i["\u0275\u0275directiveInject"](At.DomSanitizer),i["\u0275\u0275directiveInject"](Pt.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["rb-eshop-payment"]],inputs:{xid:"xid",model:"model"},features:[i["\u0275\u0275NgOnChangesFeature"]],decls:3,vars:1,consts:[["withoutPaymentLink",""],["xid","eshopInfo","class","eshop-payment",4,"ngIf"],["translate","TIT_PAY_114",1,"qr-header"],["translate","TXT_PAY_040",3,"translateParams"],[1,"shop-name"],[3,"xid","model"],["xid","eshopInfo",1,"eshop-payment"],[4,"ngIf","ngIfElse"],["translate","TXT_PAY_165",1,"qr-header"],["translate","TXT_PAY_166"],["xid","paymentLink","target","_blank","translate","CON_PAY_116","type","submit",1,"i-button","with-arrow","t-15",3,"href"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,Nt,5,5,"ng-template",null,0,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](2,Lt,2,2,"section",1)),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.model.show))},directives:[A.t,w.a,Xe.a],encapsulation:2}),e}(),zt=n("wFQ2");function Dt(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275element"](1,"rb-warning",1),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.ngIf;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("message",n)}}var Ft=function(){function e(e){this.api=e}return e.prototype.ngOnInit=function(){this.message$=this.api.getInfoMessage().pipe(Object(G.a)((function(e){var t;return null!==(t=null==e?void 0:e.html)&&void 0!==t?t:null})))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](H))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["rb-login-info-message"]],decls:2,vars:3,consts:[[4,"ngIf"],["xid","loginInfoMessage",3,"message"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,Dt,2,1,"ng-container",0),i["\u0275\u0275pipe"](1,"async")),2&e&&i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](1,1,t.message$))},directives:[A.t,zt.a],pipes:[A.b],encapsulation:2,changeDetection:0}),e}(),Ut=n("+CPv"),Rt=n("Mt7Q"),qt=n("WyN+"),Vt=n("vg9p"),Kt=function(){function e(e,t,n,i){this.cookieService=e,this.hashCodeService=t,this.systemParametersService=n,this.objectUtils=i,this.TRASK_EVENT_TYPE={},this.enabled=!1,this.initialized=!1,this.enabled=this.systemParametersService.isAnalyticsEnabled(),this.TA=window.TA,this.TA.setTrackingUrl(this.systemParametersService.getAnalyticsUrl())}return e.prototype.logBannerDisplay=function(e){var t=this;this.activate((function(){var n=t.getBannerInfo(e);t.TA.setPageUrl("login-app"),t.TA.push(t.TA.trackType.EVENT_DISPLAY,{eventType:t.TA.eventType.COMPONENT_DISPLAYED,componentExternal:[t.getBannerId(e)],pagePart:[t.getPlaceholder(e)],extensionData:t.getExtensionData(n)})}))},e.prototype.logBannerAction=function(e,t){var n=this;this.activate((function(){n.TA.setPageUrl("login-app"),n.TA.push(n.TA.trackType.EVENT_ACTIVITY,{eventType:n.getTraskEventType(e.action),componentExternal:[n.getBannerId(t)],pagePart:[n.getPlaceholder(t)],extensionData:n.getExtensionData(e),targetUrl:n.getTargetUrl(e)})}))},e.prototype.activate=function(e){this.enabled&&(this.initialized||(this.setSessionParams(),this.initialized=!0),e())},e.prototype.setSessionParams=function(){this.initTraskEventType(),this.initUserCookies();var e=this.getTrackingId();this.TA.setId(e,{cookie:this.cookieService.get("rb_cookie_name")}),this.TA.setTrackingSpace("IB")},e.prototype.initUserCookies=function(){if(!this.cookieService.check("rb_cookie_name")){var e=this.createUserCookie(),t=Date.today().addYears(1);this.cookieService.set("rb_cookie_name",e,t)}},e.prototype.getTrackingId=function(){return this.cookieService.get("rb_cookie_name")+"_"+Date.today().toString("yyyy-MM-dd--hh-mm-ss")},e.prototype.createUserCookie=function(){var e=Date.today().getTime();return this.hashCodeService.getRandomHexa()+this.hashCodeService.getRandomHexa()+this.hashCodeService.getRandomHexa()+e},e.prototype.initTraskEventType=function(){this.TRASK_EVENT_TYPE={action:this.TA.eventType.COMPONENT_ACTION,more_info:this.TA.eventType.COMPONENT_MORE_INFO,back:this.TA.eventType.COMPONENT_BACK,call_me:this.TA.eventType.COMPONENT_CALL_ME,skip:this.TA.eventType.COMPONENT_SKIP,redirect:this.TA.eventType.COMPONENT_REDIRECT,do_not_show:this.TA.eventType.COMPONENT_DO_NOT_SHOW}},e.prototype.getBannerId=function(e){return e&&e.info&&e.info.alfrescoId?e.info.alfrescoId:""},e.prototype.getPlaceholder=function(e){return e&&e.placeholderId?e.placeholderId:""},e.prototype.getBannerInfo=function(e){return e&&e.info?e.info:{}},e.prototype.getExtensionData=function(e){return this.objectUtils.cleanObject({offerId:e.offerId,offerName:e.opportunityName,mProdCode:e.mProdCode,siebelCategory:e.mProdCategory,productRequestType:e.productRequestType,txnId:e.transactionId,txnStatus:e.transactionState})},e.prototype.getTraskEventType=function(e){return this.TRASK_EVENT_TYPE[e]?this.TRASK_EVENT_TYPE[e]:""},e.prototype.getTargetUrl=function(e){return e.isGlobalRedirect()?e.getRedirectUrl():null},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](qt.a),i["\u0275\u0275inject"](Vt.a),i["\u0275\u0275inject"](E.a),i["\u0275\u0275inject"](D.a))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Xt=n("wci0"),Gt=function(){function e(e){this.onClick=new i.EventEmitter,this.element=e.nativeElement,this.handleClick=this.handleClick.bind(this)}return e.prototype.ngOnChanges=function(e){e.content&&e.content.currentValue&&this.insertHtml()},e.prototype.insertHtml=function(){if(this.content){var e=this.content.replace(/\\n|\\r/gi,"");e=e.replace(/\\/gi,""),this.removeEvents(),this.element.innerHTML=e,this.addEvents()}},e.prototype.removeEvents=function(){var e=this,t=this.element.querySelectorAll(".action-button");t.length&&Array.from(t).forEach((function(t){return e.removeHandler(t,"click",e.handleClick)}))},e.prototype.addEvents=function(){var e=this,t=this.element.querySelectorAll(".action-button");t.length&&Array.from(t).forEach((function(t){e.addHandler(t,"click",e.handleClick)}))},e.prototype.addHandler=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e["on"+t]=n},e.prototype.removeHandler=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e["on"+t]=null},e.prototype.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},e.prototype.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},e.prototype.createEvent=function(e){var t={action:e.getAttribute("vp-action"),target:e.getAttribute("vp-target"),url:e.getAttribute("vp-url"),detail:e.getAttribute("vp-detail")};return new Xt.a(t)},e.prototype.handleClick=function(e){var t=(e=e||window.event).target||e.srcElement;if(this.stopPropagation(e),this.preventDefault(e),this.onClick&&t){var n=this.createEvent(t);this.onClick.emit(n)}return!1},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.ElementRef))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["rb-public-banner-placeholder"]],inputs:{content:"content"},outputs:{onClick:"onClick"},features:[i["\u0275\u0275NgOnChangesFeature"]],decls:1,vars:0,template:function(e,t){1&e&&i["\u0275\u0275element"](0,"div")},encapsulation:2,changeDetection:0}),e}();function Ht(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",6),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](2).setPreviousIndex()})),i["\u0275\u0275text"](1," \xa0 "),i["\u0275\u0275elementEnd"]()}}var Zt=function(e){return{selected:e}};function Qt(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",8),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](n);var e=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](2).select(e)})),i["\u0275\u0275elementEnd"]()}if(2&e){var o=i["\u0275\u0275nextContext"]().index,r=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](2,Zt,r.selectedIndex===o)),i["\u0275\u0275attribute"]("xid","bannerSwitchDot-"+o)}}function Yt(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,Qt,1,4,"div",7),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.index,o=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",o.isVisibleDot(n))}}function Wt(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",9),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](2).setNextIndex()})),i["\u0275\u0275text"](1," \xa0 "),i["\u0275\u0275elementEnd"]()}}function Jt(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",1),i["\u0275\u0275template"](1,Ht,2,0,"div",2),i["\u0275\u0275elementStart"](2,"div",3),i["\u0275\u0275template"](3,Yt,2,1,"ng-container",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,Wt,2,0,"div",5),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.showArrows),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",n.banners),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.showArrows)}}var $t=function(){function e(){this.onIndexChange=new i.EventEmitter}return e.prototype.select=function(e){this.selectedIndex=e,this.onIndexChange.emit(e)},e.prototype.setPreviousIndex=function(){var e=this.selectedIndex-1;this.select(e<0?this.banners.length-1:e)},e.prototype.setNextIndex=function(){var e=this.selectedIndex+1;this.select(e<this.banners.length?e:0)},e.prototype.isVisibleDot=function(e){var t=10*Math.floor(this.selectedIndex/10);return e>=t&&e<t+10},e.prototype.showSwitch=function(){return this.banners.length>1},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["rb-banner-switch"]],inputs:{xid:"xid",banners:"banners",selectedIndex:"selectedIndex",showArrows:"showArrows"},outputs:{onIndexChange:"onIndexChange"},decls:1,vars:1,consts:[["class","widget-links",4,"ngIf"],[1,"widget-links"],["xid","switch-left-arrow","class","ion-ios-arrow-back pull-left",3,"click",4,"ngIf"],[1,"dot-container"],[4,"ngFor","ngForOf"],["xid","switch-right-arrow","class","ion-ios-arrow-forward pull-right",3,"click",4,"ngIf"],["xid","switch-left-arrow",1,"ion-ios-arrow-back","pull-left",3,"click"],["class","banner-dot",3,"ngClass","click",4,"ngIf"],[1,"banner-dot",3,"ngClass","click"],["xid","switch-right-arrow",1,"ion-ios-arrow-forward","pull-right",3,"click"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,Jt,5,3,"div",0),2&e&&i["\u0275\u0275property"]("ngIf",t.showSwitch())},directives:[A.t,A.s,A.q],encapsulation:2}),e}();function en(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"rb-public-banner-placeholder",4),i["\u0275\u0275listener"]("onClick",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](2).onBannerClick(e)})),i["\u0275\u0275elementEnd"]()}if(2&e){var o=t.$implicit,r=t.index,a=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("hidden",a.isPlaceholderHidden(r))("content",o.html),i["\u0275\u0275attribute"]("xid",a.getPlaceholderXid(r))}}function tn(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"rb-banner-switch",5),i["\u0275\u0275listener"]("onIndexChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](2).handleIndexChange(e)})),i["\u0275\u0275elementEnd"]()}if(2&e){var o=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("banners",o.banners)("selectedIndex",o.selectedIndex)("showArrows",!1)}}function nn(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",1),i["\u0275\u0275listener"]("mouseenter",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().clearCarousel()}))("mouseleave",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().setCarousel()})),i["\u0275\u0275template"](1,en,1,3,"rb-public-banner-placeholder",2),i["\u0275\u0275template"](2,tn,1,3,"rb-banner-switch",3),i["\u0275\u0275elementEnd"]()}if(2&e){var o=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",o.banners),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",o.isMultiBanner())}}var on=function(){function e(e,t,n,i,o){this.window=e,this.ngZone=t,this.urlUtils=n,this.systemParametersService=i,this.publicAnalyticsService=o,this.intervalObj=null,this.selectedIndex=0,this.carouselIntervalSeconds=10,this.eventModel=null,this.bannerLogged={}}return e.prototype.ngOnInit=function(){this.carouselIntervalSeconds=this.systemParametersService.getVpeCarouselInterval(),this.activate()},e.prototype.ngOnChanges=function(e){e.banners&&e.banners.currentValue&&this.activate()},e.prototype.ngOnDestroy=function(){this.clearIntervalObj()},e.prototype.handleIndexChange=function(e){this.selectedIndex=e},e.prototype.getPlaceholderXid=function(e){return"bannerPlaceholder-"+e},e.prototype.hasBanner=function(){return this.banners&&this.banners.length>0},e.prototype.isMultiBanner=function(){return this.banners.length>1},e.prototype.onBannerClick=function(e){this.eventModel=e,this.clearIntervalObj(),this.logAction(e),this.processAction(e)},e.prototype.isPlaceholderHidden=function(e){return e!==this.selectedIndex},e.prototype.setCarousel=function(){this.isMultiBanner()&&!this.intervalObj&&this.setIntervalObj()},e.prototype.clearCarousel=function(){this.isMultiBanner()&&this.intervalObj&&this.clearIntervalObj()},e.prototype.activate=function(){this.selectedIndex=0,this.hasBanner()&&(this.setCarousel(),this.logDisplay())},e.prototype.isBannerLogged=function(e){return!!this.bannerLogged[e||this.selectedIndex]},e.prototype.setBannerLogged=function(e){var t=e||this.selectedIndex;this.bannerLogged[t]=t},e.prototype.logDisplay=function(){this.isBannerLogged()||(this.publicAnalyticsService.logBannerDisplay(this.getActualBanner()),this.setBannerLogged())},e.prototype.getActualBanner=function(){var e=this.banners[this.selectedIndex];return e.placeholderId=this.placeholderId,e},e.prototype.getNextIndex=function(){this.selectedIndex=this.selectedIndex+1<this.banners.length?this.selectedIndex+1:0},e.prototype.clearIntervalObj=function(){this.window.clearTimeout(this.intervalObj),this.intervalObj=null},e.prototype.setIntervalObj=function(){var e=this;this.ngZone.runOutsideAngular((function(){e.intervalObj=e.window.setTimeout((function(){return e.ngZone.run((function(){return e.carouselTick()}))}),1e3*e.carouselIntervalSeconds)}))},e.prototype.carouselTick=function(){this.getNextIndex(),this.setIntervalObj(),this.logDisplay()},e.prototype.handleRedirect=function(e){e.hasUrl()&&this.handleTarget(e)},e.prototype.handleTarget=function(e){e.isTargetSelf()?this.window.location.replace(e.url):this.urlUtils.asyncRedirect((function(t){t.location.replace(e.url)}))},e.prototype.processAction=function(e){switch(e.action){case j.b.ACTION:case j.b.REDIRECT:this.handleRedirect(e);break;case j.b.BACK:this.window.history.back()}},e.prototype.logAction=function(e){this.publicAnalyticsService.logBannerAction(e,this.getActualBanner())},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](z.a),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](Pt.a),i["\u0275\u0275directiveInject"](E.a),i["\u0275\u0275directiveInject"](Kt))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["rb-public-banner-logic"]],inputs:{xid:"xid",banners:"banners",placeholderId:"placeholderId"},features:[i["\u0275\u0275NgOnChangesFeature"]],decls:1,vars:1,consts:[["class","banner-placeholder-wrapper",3,"mouseenter","mouseleave",4,"ngIf"],[1,"banner-placeholder-wrapper",3,"mouseenter","mouseleave"],[3,"hidden","content","onClick",4,"ngFor","ngForOf"],[3,"banners","selectedIndex","showArrows","onIndexChange",4,"ngIf"],[3,"hidden","content","onClick"],[3,"banners","selectedIndex","showArrows","onIndexChange"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,nn,3,2,"div",0),2&e&&i["\u0275\u0275property"]("ngIf",t.hasBanner())},directives:[A.t,A.s,Gt,$t],encapsulation:2}),e}(),rn=function(){function e(e,t){this.bannerApi=e,this.systemParametersService=t,this.xid="inlineBanner",this.onBannerStateChange=new i.EventEmitter,this.placeholderConfig=null}return e.prototype.ngOnInit=function(){this.activate()},e.prototype.resolveBannerList=function(e){var t=this.getRequestParams(e);return this.bannerApi.getPublicBannerList(t)},e.prototype.onActivationError=function(){this.banners=null,this.notifyStateChange()},e.prototype.notifyStateChange=function(){var e={isBannerEmpty:!this.hasBanners(this.banners),hasMultipleBanners:this.isMultiBanner(this.banners)};this.onBannerStateChange.emit(e)},e.prototype.getBanners=function(e){var t=this;this.resolveBannerList(e).then((function(e){t.banners=e.banners,t.notifyStateChange()}),(function(){return t.onActivationError()}))},e.prototype.isMultiBanner=function(e){return e&&e.length&&e.length>1},e.prototype.getRequestParams=function(e){return{placeholderId:this.placeholderId,count:this.getBannerRequestCount(e)}},e.prototype.isVpeEnabled=function(){return this.systemParametersService.isVpeEnabled()},e.prototype.getPlaceholderConfig=function(e){return this.bannerApi.getPlaceholderConfig(e,!0,null)},e.prototype.activate=function(){var e=this;return this.isVpeEnabled()?this.getPlaceholderConfig(this.placeholderId).then((function(t){return t&&(e.placeholderConfig=t,!e.isBannerDisabled())?e.getBanners(t):e.onActivationError()}),(function(){return e.onActivationError()})):this.onActivationError()},e.prototype.isBannerDisabled=function(){return!this.placeholderConfig.maxCount&&!this.placeholderConfig.contentMaxCount},e.prototype.hasBanners=function(e){return(e=e||this.banners)&&e.length&&e.length>0},e.prototype.getBannerRequestCount=function(e){return Math.max(e.contentMaxCount,e.maxCount)},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Rt.a),i["\u0275\u0275directiveInject"](E.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["rb-public-banner"]],inputs:{xid:"xid",placeholderId:"placeholderId"},outputs:{onBannerStateChange:"onBannerStateChange"},decls:2,vars:2,consts:[[1,"rb-inline-banner"],[3,"banners","placeholderId"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275element"](1,"rb-public-banner-logic",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("banners",t.banners)("placeholderId",t.placeholderId))},directives:[on],encapsulation:2}),e}();function an(e,t){if(1&e&&i["\u0275\u0275element"](0,"rb-login-header",16),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("isEshopPayment",n.eShopPayment.show)}}function sn(e,t){if(1&e&&i["\u0275\u0275element"](0,"rb-eshop-payment",17),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("model",n.eShopPayment)}}function ln(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",19),i["\u0275\u0275element"](1,"p",20),i["\u0275\u0275element"](2,"p",21),i["\u0275\u0275elementEnd"]())}function cn(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275element"](1,"rb-login-info-message"),i["\u0275\u0275template"](2,ln,3,0,"div",18),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",n.isMobilePlatform)}}function un(e,t){1&e&&i["\u0275\u0275element"](0,"rb-error",22)}function dn(e,t){1&e&&i["\u0275\u0275element"](0,"rb-error",23)}function pn(e,t){if(1&e&&i["\u0275\u0275element"](0,"rb-public-banner",24),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("placeholderId",n.bannerId.LOGIN_BOTTOM_BANNER)}}var hn=function(e){function t(t,n,i,o,r){var a=e.call(this,r)||this;return a.config=n,a.state=i,a.eShopLoginService=o,a.bannerId=j.c,a.isMobilePlatform=t.ANDROID||t.IOS,a}return Object(P.c)(t,e),t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.isNotPopup=this.state.isNotPopup,this.eShopPayment={show:!1,data:{}},this.eShopLoginService.getEShopPayment(this.ui,(function(e){t.eShopPayment={show:!0,data:e},t.eShopLoginService.startEShopPaymentWatchers(e.requestId,e.urlSuccess)})),this.method=this.getLoginMethod()},t.prototype.ngOnDestroy=function(){this.eShopLoginService.stopEShopPaymentWatchers()},t.prototype.getLoginMethod=function(){var e;return this.isOnBehalfLogin()&&(null===(e=this.ui)||void 0===e?void 0:e.method)?this.ui.method:null},t.prototype.isOnBehalfLogin=function(){var e;return this.config.pinType===N.c.T&&(null===(e=this.ui.loginName)||void 0===e?void 0:e.length)>0},t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](B.a),i["\u0275\u0275directiveInject"](b),i["\u0275\u0275directiveInject"](S),i["\u0275\u0275directiveInject"](V),i["\u0275\u0275directiveInject"](k.a))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["gib"]],inputs:{ui:"ui",methods:"methods",resolved:"resolved"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:23,vars:9,consts:[[1,"container"],[1,"unsupported"],[1,"icko"],[1,"main-content"],[1,"login--header-wrapper"],["xid","loginPageHeader",3,"isEshopPayment",4,"ngIf"],[1,"header-container","login-warning"],[1,"bulb-icon"],["translate","TXT_COM_035",1,"warning-text"],["xid","eshopPayment",3,"model",4,"ngIf"],[1,"login"],[4,"ngIf"],["xid","login",4,"ngIf"],["xid","loginFormApi","type","eshop.payment.grcode",4,"ngIf"],[3,"ui","methods","selectedMethod"],[3,"placeholderId",4,"ngIf"],["xid","loginPageHeader",3,"isEshopPayment"],["xid","eshopPayment",3,"model"],["class","b-5",4,"ngIf"],[1,"b-5"],["translate","TXT_PAY_167",1,"qr-header"],["translate","TXT_PAY_168"],["xid","login"],["xid","loginFormApi","type","eshop.payment.grcode"],[3,"placeholderId"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"noscript",1),i["\u0275\u0275element"](2,"i",2),i["\u0275\u0275elementStart"](3,"span"),i["\u0275\u0275text"](4,"V\xe1\u0161 prohl\xed\u017ee\u010d nem\xe1 povolen javascript. "),i["\u0275\u0275element"](5,"br"),i["\u0275\u0275text"](6," Your browser does not have javascript allowed."),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",3),i["\u0275\u0275elementStart"](8,"div",4),i["\u0275\u0275element"](9,"rb-name-day"),i["\u0275\u0275template"](10,an,1,1,"rb-login-header",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"noscript"),i["\u0275\u0275elementStart"](12,"div",6),i["\u0275\u0275element"](13,"div",7),i["\u0275\u0275element"](14,"p",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](15,"rb-login-version-info"),i["\u0275\u0275template"](16,sn,1,1,"rb-eshop-payment",9),i["\u0275\u0275elementStart"](17,"section",10),i["\u0275\u0275template"](18,cn,3,1,"ng-container",11),i["\u0275\u0275template"](19,un,1,0,"rb-error",12),i["\u0275\u0275template"](20,dn,1,0,"rb-error",13),i["\u0275\u0275element"](21,"methods-switch",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](22,pn,1,1,"rb-public-banner",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](10),i["\u0275\u0275property"]("ngIf",t.isNotPopup),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",t.isNotPopup),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.isNotPopup),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.eShopPayment.show),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.eShopPayment.show),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ui",t.ui)("methods",t.methods)("selectedMethod",t.method),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isNotPopup))},directives:[Y,A.t,w.a,te,Ot,Mt,Bt,Ft,Ut.a,rn],encapsulation:2}),t}(L);function fn(e,t){1&e&&i["\u0275\u0275element"](0,"rb-warning",1)}var mn=function(){function e(e){this.systemParameterService=e}return e.prototype.ngOnInit=function(){this.showMtInfoMessage=this.isMtErrorMessageVisible()},e.prototype.isMtErrorMessageVisible=function(){var e;return(null===(e=this.ui)||void 0===e?void 0:e.method)===c.MT&&this.systemParameterService.getMtLoginShowErrorMessage()},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](E.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["rb-login-mt-info-message"]],inputs:{ui:"ui"},decls:1,vars:1,consts:[["xid","loginMtInfoMessage","messageHtml","TXT_AUS_199",4,"ngIf"],["xid","loginMtInfoMessage","messageHtml","TXT_AUS_199"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,fn,1,0,"rb-warning",0),2&e&&i["\u0275\u0275property"]("ngIf",t.showMtInfoMessage)},directives:[A.t,zt.a],encapsulation:2}),e}(),gn=function(e){function t(t){var n=e.call(this,t)||this;return n.bannerId=j.c,n}return Object(P.c)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.method=this.getLoginMethod()},t.prototype.getLoginMethod=function(){var e,t;return null!==(t=null===(e=this.ui)||void 0===e?void 0:e.method)&&void 0!==t?t:null},t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](k.a))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["pwb"]],inputs:{ui:"ui",methods:"methods"},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:20,vars:5,consts:[[1,"container"],[1,"unsupported"],[1,"icko"],[1,"main-content"],[1,"login--header-wrapper"],["xid","loginPageHeader"],[1,"header-container","login-warning"],[1,"bulb-icon"],["translate","TXT_COM_035",1,"warning-text"],[1,"login"],[3,"ui"],["xid","login"],[3,"ui","methods","selectedMethod"],[3,"placeholderId"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"noscript",1),i["\u0275\u0275element"](2,"i",2),i["\u0275\u0275elementStart"](3,"span"),i["\u0275\u0275text"](4,"V\xe1\u0161 prohl\xed\u017ee\u010d nem\xe1 povolen javascript. "),i["\u0275\u0275element"](5,"br"),i["\u0275\u0275text"](6," Your browser does not have javascript allowed."),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",3),i["\u0275\u0275elementStart"](8,"div",4),i["\u0275\u0275element"](9,"rb-login-header",5),i["\u0275\u0275element"](10,"rb-name-day"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"noscript"),i["\u0275\u0275elementStart"](12,"div",6),i["\u0275\u0275element"](13,"div",7),i["\u0275\u0275element"](14,"p",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"section",9),i["\u0275\u0275element"](16,"rb-login-mt-info-message",10),i["\u0275\u0275element"](17,"rb-error",11),i["\u0275\u0275element"](18,"methods-switch",12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](19,"rb-public-banner",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](16),i["\u0275\u0275property"]("ui",t.ui),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ui",t.ui)("methods",t.methods)("selectedMethod",t.method),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("placeholderId",t.bannerId.LOGIN_BOTTOM_BANNER))},directives:[Mt,Y,w.a,mn,Ut.a,Ot,rn],encapsulation:2}),t}(L),vn=["gib"],yn=["pwb"];function bn(e,t){if(1&e&&i["\u0275\u0275element"](0,"gib",3),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ui",n.ui)("methods",n.methods)}}function In(e,t){if(1&e&&i["\u0275\u0275element"](0,"pwb",3),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ui",n.ui)("methods",n.methods)}}function Sn(e,t){1&e&&i["\u0275\u0275elementContainer"](0)}var Cn=function(){function e(e){this.systems=[a.MCH_GIB,a.MCH_APIC,a.PUBLIC_WEB],this.ui=e.ui,this.system=e.system,this.methods=e.methods}return e.prototype.ngOnInit=function(){var e=this,t=this.systems.find((function(t){var n=Object(s.a)(t,":");return e.system.match(n[0],n[1])}));this.selectSystemTemplate(t)},e.prototype.selectSystemTemplate=function(e){switch(e){case a.MCH_GIB:case a.MCH_APIC:this.systemTpl=this.gib;break;case a.PUBLIC_WEB:this.systemTpl=this.pwb;break;default:this.systemTpl=null}},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](b))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["system-selector"]],viewQuery:function(e,t){var n;1&e&&(i["\u0275\u0275staticViewQuery"](vn,!0),i["\u0275\u0275staticViewQuery"](yn,!0)),2&e&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.gib=n.first),i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.pwb=n.first))},decls:5,vars:1,consts:[["gib",""],["pwb",""],[4,"ngTemplateOutlet"],[3,"ui","methods"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,bn,1,2,"ng-template",null,0,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](2,In,1,2,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](4,Sn,1,0,"ng-container",2)),2&e&&(i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngTemplateOutlet",t.systemTpl))},directives:[A.A,hn,gn],encapsulation:2}),e}(),wn=[{path:"",resolve:{appState:C,vpeCss:T,translateSetup:_},children:[{path:"",component:function(){function e(){}return e.prototype.ngOnInit=function(){this.xBranch="release/R5.9",this.xBuildNumber="e487f86f94e47ccc5654d8a1276b86385b0ce57d",this.xTimeStamp=1602502607726,this.xBuildDateTime=new Date(this.xTimeStamp).toString("dd-MM-yyyy HH:mm:ss")},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["rb-login"]],decls:11,vars:4,consts:[["id","xBuildInfo"],["id","branch"],["id","buildNumber"],["id","buildTimestamp"],["id","buildDateTime"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"div",0),i["\u0275\u0275elementStart"](2,"p",1),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"p",2),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"p",3),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"p",4),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](10,"system-selector"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](t.xBranch),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](t.xBuildNumber),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](t.xTimeStamp),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](t.xBuildDateTime))},directives:[Cn],encapsulation:2}),e}(),runGuardsAndResolvers:"always"},{path:"error",component:M}]}],xn=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.f.forRoot(wn,{onSameUrlNavigation:"reload"})],o.f]}),e}(),_n=n("B1g5");function En(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",5),i["\u0275\u0275text"](1,"\xa0/\xa0"),i["\u0275\u0275elementEnd"]())}var Tn=function(e){return{active:e}};function On(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span",2),i["\u0275\u0275template"](1,En,2,0,"span",3),i["\u0275\u0275elementStart"](2,"span",4),i["\u0275\u0275listener"]("rbClick",(function(){i["\u0275\u0275restoreView"](n);var e=t.$implicit;return i["\u0275\u0275nextContext"]().changeLanguage(e.value)})),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var o=t.$implicit,r=t.index,a=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",a.isNotFirst(r)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](4,Tn,a.isActive(o.value))),i["\u0275\u0275attribute"]("xid","language"+o.label),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](o.label)}}var Mn=function(){function e(e,t,n,i){this.router=e,this.translate=t,this.config=n,this.state=i,this.languages=_n.c,this.selectedLanguage=this.translate.currentLang}return e.prototype.isActive=function(e){return this.selectedLanguage===e},e.prototype.isNotFirst=function(e){return 0!==e},e.prototype.changeLanguage=function(e){var t=this;this.selectedLanguage=e,this.useLanguage(e).then((function(){return t.router.navigate(["."],{queryParamsHandling:"preserve"})})).then((function(){return t.state.currentLanguage=e})).then((function(){t.config.selectLanguage(e)}))},e.prototype.useLanguage=function(e){return this.translate.use(e).toPromise()},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.e),i["\u0275\u0275directiveInject"](w.e),i["\u0275\u0275directiveInject"](b),i["\u0275\u0275directiveInject"](S))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["rb-login-translate-select"]],decls:2,vars:1,consts:[["xid","translateSelect"],["class","languageLink",4,"ngFor","ngForOf"],[1,"languageLink"],["class","languageDelimiter",4,"ngIf"],[3,"ngClass","rbClick"],[1,"languageDelimiter"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,On,4,6,"span",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.languages))},directives:[A.s,A.t,A.q,Fe.a],encapsulation:2}),e}(),An=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["rb-link"]],inputs:{xid:"xid",linkCode:"linkCode"},decls:2,vars:3,consts:[[3,"innerHtml"]],template:function(e,t){1&e&&(i["\u0275\u0275element"](0,"span",0),i["\u0275\u0275pipe"](1,"translate")),2&e&&i["\u0275\u0275property"]("innerHtml",i["\u0275\u0275pipeBind1"](1,1,t.linkCode),i["\u0275\u0275sanitizeHtml"])},pipes:[w.d],encapsulation:2,changeDetection:0}),e}(),Pn=n("9ryw"),jn=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["rb-footer"]],decls:1,vars:1,consts:[["phoneNumber","TXT_AUS_021",3,"showLastLogin"]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"rb-footer-content",0),2&e&&i["\u0275\u0275property"]("showLastLogin",!1)},directives:[Pn.a],encapsulation:2,changeDetection:0}),e}();function Nn(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",4),i["\u0275\u0275elementStart"](1,"div",5),i["\u0275\u0275elementStart"](2,"div",6),i["\u0275\u0275elementStart"](3,"a",7),i["\u0275\u0275element"](4,"div",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",9),i["\u0275\u0275element"](6,"rb-login-translate-select",10),i["\u0275\u0275element"](7,"rb-link",11),i["\u0275\u0275element"](8,"rb-link",12),i["\u0275\u0275element"](9,"rb-link",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("href",n.state.logoRedirectUrl,i["\u0275\u0275sanitizeUrl"])}}function kn(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275element"](1,"rb-footer"),i["\u0275\u0275elementEnd"]())}var Ln=function(){function e(e,t,n){this.window=e,this.renderer=t,this.state=n,this.displayBodyAs("none")}return e.prototype.ngAfterViewInit=function(){var e=this;window.setTimeout((function(){e.state.isPopup&&e.addBodyClass("modal-login"),e.state.ieOverride&&e.addBodyClass("ie-override"),e.displayBodyAs("block")}))},e.prototype.displayBodyAs=function(e){this.renderer.setStyle(this.window.document.body,"display",e)},e.prototype.addBodyClass=function(e){this.renderer.addClass(this.window.document.body,e)},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](z.a),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](S))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-root"]],decls:5,vars:2,consts:[["id","top-navigation","class","top-navigation not-logged-in",4,"ngIf"],[1,"container"],[1,"main-content"],["id","rbfooter",4,"ngIf"],["id","top-navigation",1,"top-navigation","not-logged-in"],[1,"top-navigation-container"],[1,"navbar"],["target","_blank",3,"href"],[1,"item","login-logo"],[1,"item","publicmenulinks"],[1,"item"],["xid","loginMenuContactUs","linkCode","CON_AUS_002",1,"item","contact-us"],["xid","loginMenuSecurity","linkCode","CON_AUS_003",1,"item","security"],["xid","loginMenuHelp","linkCode","CON_AUS_004",1,"item","help"],["id","rbfooter"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,Nn,10,1,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275element"](3,"router-outlet"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,kn,2,0,"div",3)),2&e&&(i["\u0275\u0275property"]("ngIf",t.state.isNotPopup),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",t.state.isNotPopup))},directives:[A.t,o.g,Mn,An,jn],encapsulation:2}),e}(),Bn=n("xmVv"),zn=n("cRnC"),Dn=n("6TBM"),Fn=n("0/uQ"),Un={provide:i.LOCALE_ID,useValue:"cs"},Rn=function(){function e(e){this.api=e}return e.prototype.getTranslation=function(e){return Object(Fn.a)(this.api.getLocalizations(e)).pipe(Object(G.a)((function(t){return t[e]})))},e}(),qn=function(){function e(e){if(e)throw new Error("I18nModule has already been loaded. Import I18nModule modules in the Core module only.");Object(A.J)(zn.a)}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)(i["\u0275\u0275inject"](e,12))},providers:[Dn.a],imports:[[w.c.forRoot({loader:{provide:w.b,useClass:Rn,deps:[Dn.a]}})],w.c]}),e}(),Vn=function(){function e(){}return e.prototype.intercept=function(e,t){return t.handle(e.clone({withCredentials:!0}))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac=function(t){return new(t||e)}}),e}(),Kn=function(){function e(e){if(e)throw new Error("LoginCoreModule has already been loaded. Import LoginCoreModule modules in the AppModule only.")}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)(i["\u0275\u0275inject"](e,12))},providers:[Un,A.g,A.f,A.n,{provide:A.o,useClass:A.h},{provide:z.a,useFactory:z.b},{provide:me.a,useClass:Bn.a,multi:!0},{provide:me.a,useClass:Vn,multi:!0},{provide:me.a,useClass:Se,multi:!0}],imports:[[At.BrowserModule,me.c,qn],At.BrowserModule]}),e}(),Xn={provide:i.APP_INITIALIZER,multi:!0,useFactory:function(e,t,n){return function(){return t.use(function(e,t){return function(e){return"popup"===e.raw.display&&!!e.ui.loginName}(t)?Array.isArray(t.raw.ui_locale)?t.raw.ui_locale[0]:t.raw.ui_locale:e.currentLang||"cs"}(t,n)).toPromise().catch((function(){return e.get(o.e).navigate(["./error"],{queryParamsHandling:"preserve"})}))}},deps:[i.Injector,w.e,b]},Gn={provide:i.APP_INITIALIZER,useFactory:function(e,t,n,i){return function(){return i.get().then((function(){if(t.system.encode()===a.MCH_GIB){var e=i.getOldIbLoginLink();n.setOldIbLoginLink(e)}})).catch((function(){return e.get(o.e).navigate(["/error"])}))}},multi:!0,deps:[i.Injector,b,V,E.a]},Hn=n("q3Q9"),Zn=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[Hn.a]]}),e}(),Qn=n("DcP9"),Yn=n("pIL2"),Wn=n("eIqb"),Jn=n("6wJT"),$n=n("I8Ji"),ei=n("TXli"),ti=n("Fwg/"),ni=n("w5Zo"),ii=n("ExQB"),oi=n("tG8Z"),ri=n("96gG"),ai=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[A.c]]}),e}(),si=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[A.c,w.c,Qn.a,Wn.a],A.c,w.c,fe.ReactiveFormsModule,ri.a,ti.a,ii.a,ni.a,oi.a,Qn.a,ei.a,Yn.a,$n.a,Jn.a,Hn.a,ai]}),e}(),li=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[Ke.TextMaskModule,si]]}),e}(),ci=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[si]]}),e}(),ui=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[A.c,si,li,ci]]}),e}(),di=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[A.c,ui]]}),e}(),pi=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[di,Zn]}),e}(),hi=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e,bootstrap:[Ln]}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[Xn,Gn],imports:[[Kn,si,pi,xn]]}),e}();Object(i.enableProdMode)(),At.platformBrowser().bootstrapModule(hi).catch((function(e){return console.log(e)}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0,5]]]);